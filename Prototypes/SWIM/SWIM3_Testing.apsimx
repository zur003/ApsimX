{
  "$type": "Models.Core.Simulations, Models",
  "ExplorerWidth": 285,
  "Version": 148,
  "Name": "Simulations",
  "Children": [
    {
      "$type": "Models.Memo, Models",
      "Text": "There is an issue with SWIM finding the right psi after someone else has mucked around in the water balance. \n\n\nSwim3.cs line 3295 sets the maximum iterations. Start there. Increasing from 1K to 1.1K causes a fast crash (no solution) and the psi values in the root zone are going positive. See the summary writeline at lien 3328. Uncomment that, add node and days and stuff to assist. Why positive? Is this happening with 1K iterations as well?\n\nTry looking at it with no rain or irrigation.\n",
      "Name": "README",
      "Children": [],
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Replacements, Models",
      "Name": "Replacements",
      "Children": [
        {
          "$type": "Models.Manager, Models",
          "Code": "// This script calculates a *WaterBalance* term (output) that adds together the water balance\n// water entering the system (e.g. rain, irrigation) and subtracts the water\n// leaving the system (e.g. runoff, drainage, evaporation, plant water uptake). If mass balance\n// is maintained, the *WaterBalance* variable should always be zero.   \n\n\n\n\nusing Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private ISoilWater waterBalance;\n        [Link] private IPlant[] plants;\n\n  \n        // add (no3+nh4) uptake as N uptake to IPlant\n\n        public double WaterBalanceCumulative  { get; set; }\n        public double WaterBalanceToday  { get; set; }\n\n        public double SoilWaterAtInitialisation  { get; set; }\n        public double SoilWaterYesterday  { get; set; }\n\t\tpublic double SoilWaterNow  { get; set; }\n\n\t\tpublic double PlantWaterUptake { get; set; }\n\n        public double WaterAddedToday  { get; set; }\n        public double WaterRemovedToday  { get; set; }\n        public double WaterAddedCumulative  { get; set; }\n        public double WaterRemovedCumulative  { get; set; }\n\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")]\n        private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n        \t// capture the water in and on the soil as a starting point\n        \t// doing this here as need the models to have intialised first\n        \t{\n\t        \tSoilWaterAtInitialisation = waterBalance.Pond;\n    \t    \tfor (int i = 0; i < waterBalance.SWmm.Length; i++)\n        \t\t\tSoilWaterAtInitialisation += waterBalance.SWmm[i];\n\n        \t\tSoilWaterYesterday = SoilWaterAtInitialisation;\t\t\n        \t\tWaterAddedCumulative = 0.0;\n        \t\tWaterRemovedCumulative = 0.0;\n        \t\tSoilWaterNow = 0.0;\n        \t}\n        \telse\n        \t{\n        \t\tSoilWaterYesterday = SoilWaterNow;\t\t// SoilWaterNow holds the value calculated at reporting yesterday\n        \t\tWaterAddedToday = 0.0;\n        \t\tWaterRemovedToday = 0.0;\n        \t}\n\t\t}\n\n        [EventSubscribe(\"DoReportCalculations\")]\n        private void DoReportCalculations(object sender, EventArgs e)\n        {\n        \t// All the WaterBalance variables should be zero. A positive value is a generation of water.\n        \tSoilWaterNow = waterBalance.Pond;\n        \tfor (int i = 0; i < waterBalance.SWmm.Length; i++)\n        \t\tSoilWaterNow += waterBalance.SWmm[i]; // so all the water stored in or on the soil\n\n        \tWaterAddedToday = weather.Rain + irrigation.IrrigationApplied;   // Can there be runon? Probably not but this will throw an error if that ever happens\n        \tWaterAddedCumulative+= WaterAddedToday;\n\n        \tWaterRemovedToday = waterBalance.Drainage + waterBalance.Es + waterBalance.Runoff;\n        \tPlantWaterUptake = 0.0;\n        \tforeach (var plant in plants)\n        \t\tPlantWaterUptake += plant.WaterUptake.Sum();\n\n        \tWaterRemovedToday += PlantWaterUptake;\n        \t// Need to add subsurface drainage here\n\n        \tWaterRemovedCumulative += WaterRemovedToday;\n\n        \tWaterBalanceToday = WaterAddedToday - WaterRemovedToday - (SoilWaterNow - SoilWaterYesterday);\n        \tWaterBalanceCumulative = WaterAddedCumulative - WaterRemovedCumulative - (SoilWaterNow - SoilWaterAtInitialisation);\n        \t// need to add a warning value and a crash value and make a crash\n\t\t}\n    }\n}\n",
          "Parameters": [],
          "Name": "CalculateRollingWaterBalance",
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Storage.DataStore, Models",
      "useFirebird": false,
      "CustomFileName": null,
      "Name": "DataStore",
      "Children": [
        {
          "$type": "Models.PostSimulationTools.ExcelInput, Models",
          "FileNames": [
            "HudsonObserved.xlsx"
          ],
          "SheetNames": [
            "ObservedCrop",
            "ObservedPhenology",
            "ObservedCl",
            "ObservedResidue",
            "ObservedRunoff",
            "Stubble",
            "ObservedSW",
            "ObservedSWlayers"
          ],
          "Name": "ExcelInput",
          "Children": [],
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowInDocs": false,
      "GraphsPerPage": 6,
      "Name": "Validation",
      "Children": [
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Descriptors": null,
          "Name": "HudsonW1",
          "Children": [
            {
              "$type": "Models.Clock, Models",
              "Start": "1994-08-05T00:00:00",
              "End": "2000-01-23T00:00:00",
              "Name": "clock",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "Verbosity": 100,
              "Name": "summaryfile",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Climate.Weather, Models",
              "ConstantsFile": null,
              "FileName": "Hudson.met",
              "ExcelWorkSheetName": null,
              "Name": "Weather",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.MicroClimate, Models",
              "a_interception": 0.0,
              "b_interception": 1.0,
              "c_interception": 0.0,
              "d_interception": 0.0,
              "SoilHeatFluxFraction": 0.4,
              "MinimumHeightDiffForNewLayer": 0.0,
              "NightInterceptionFraction": 0.5,
              "ReferenceHeight": 2.0,
              "Name": "MicroClimate",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "paddock",
              "Children": [
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today",
                    "[Soil].Swim3.SW",
                    "[Soil].Swim3.Runoff",
                    "[Soil].Swim3.Drainage",
                    "[Soil].Swim3.Es",
                    "[Soil].Swim3.Eo",
                    "[Wheat].Leaf.LAI",
                    "[Wheat].AboveGround.Wt",
                    "[Wheat].Grain.Wt",
                    "[Weather].Rain",
                    "sum([Soil].Nutrient.NH4.kgha) as NH4",
                    "sum([Soil].Nutrient.NO3.kgha) as NO3",
                    "sum([Soil].Nutrient.DenitrifiedN) as dnit",
                    "[Wheat].AboveGround.N",
                    "[Wheat].BelowGround.N",
                    "sum([Soil].Swim3.SWmm[5:9]) as SW110",
                    "sum([Soil].Swim3.SWmm[10:14]) as SW210",
                    "sum([Soil].Swim3.SWmm[15:19]) as SW310",
                    "sum([Soil].CL.kgha[1:9]) as Cl110",
                    "sum([Soil].CL.kgha[10:14]) as Cl210",
                    "sum([Soil].CL.kgha[15:19]) as Cl310"
                  ],
                  "EventNames": [
                    "[Clock].DoReport"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 0,
                  "ASCOrder": null,
                  "ASCSubOrder": null,
                  "SoilType": null,
                  "LocalName": null,
                  "Site": null,
                  "NearestTown": null,
                  "Region": null,
                  "State": null,
                  "Country": null,
                  "NaturalVegetation": null,
                  "ApsoilNumber": null,
                  "Latitude": 0.0,
                  "Longitude": 0.0,
                  "LocationAccuracy": null,
                  "YearOfSampling": null,
                  "DataSource": null,
                  "Comments": null,
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Thickness": [
                        100.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "Rocks": null,
                      "Texture": null,
                      "BD": [
                        1.0,
                        1.1,
                        1.1,
                        1.1,
                        1.1,
                        1.2,
                        1.2,
                        1.2,
                        1.2,
                        1.2,
                        1.2,
                        1.2,
                        1.3,
                        1.3,
                        1.3,
                        1.3
                      ],
                      "AirDry": [
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1
                      ],
                      "LL15": [
                        0.24,
                        0.28,
                        0.28,
                        0.29,
                        0.29,
                        0.29,
                        0.29,
                        0.33,
                        0.33,
                        0.35,
                        0.35,
                        0.35,
                        0.35,
                        0.35,
                        0.35,
                        0.35
                      ],
                      "DUL": [
                        0.47,
                        0.49,
                        0.52,
                        0.52,
                        0.51,
                        0.5,
                        0.5,
                        0.48,
                        0.48,
                        0.48,
                        0.47,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45
                      ],
                      "SAT": [
                        0.53,
                        0.54,
                        0.57,
                        0.55,
                        0.54,
                        0.53,
                        0.53,
                        0.51,
                        0.51,
                        0.51,
                        0.5,
                        0.48,
                        0.48,
                        0.48,
                        0.48,
                        0.48
                      ],
                      "KS": [
                        240.0,
                        240.0,
                        120.0,
                        120.0,
                        120.0,
                        120.0,
                        120.0,
                        120.0,
                        60.0,
                        60.0,
                        60.0,
                        60.0,
                        60.0,
                        60.0,
                        60.0,
                        60.0
                      ],
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "RocksMetadata": null,
                      "TextureMetadata": null,
                      "ParticleSizeSandMetadata": null,
                      "ParticleSizeSiltMetadata": null,
                      "ParticleSizeClayMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.25,
                            0.3,
                            0.3,
                            0.33,
                            0.33,
                            0.35,
                            0.35,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4
                          ],
                          "KL": [
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.06,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        100.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0
                      ],
                      "Carbon": [
                        1.4,
                        1.4,
                        1.4,
                        1.35,
                        0.95,
                        1.0,
                        0.8,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45
                      ],
                      "SoilCNRatio": [
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5,
                        14.5
                      ],
                      "FBiom": [
                        0.2,
                        0.03,
                        0.02,
                        0.015,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.32,
                        0.5,
                        0.6,
                        0.7,
                        0.85,
                        0.9,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99,
                        0.99
                      ],
                      "FOM": [
                        1.8429940397237832,
                        1.518682310017957,
                        1.2514397274486826,
                        1.0312238320721043,
                        0.8497593359941363,
                        0.7002271540391498,
                        0.5770081557034524,
                        0.47547200908704707,
                        0.39180318196656694,
                        0.3228575614658799,
                        0.26604430436858767,
                        0.21922847823542707,
                        0.18065083476786425,
                        0.14886170065587973,
                        0.12266650165572733,
                        0.1010808727977556
                      ],
                      "CarbonMetadata": null,
                      "FOMMetadata": null,
                      "Name": "Organic",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Thickness": [
                        100.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0
                      ],
                      "NO3N": [
                        10.7,
                        9.99,
                        7.87,
                        6.2,
                        4.85,
                        3.56,
                        2.72,
                        2.34,
                        2.47,
                        3.24,
                        4.25,
                        4.94,
                        5.2,
                        4.95,
                        4.52,
                        4.24
                      ],
                      "NH4N": [
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3
                      ],
                      "PH": [
                        6.0,
                        6.4,
                        6.8,
                        7.2,
                        7.6,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0
                      ],
                      "CL": [
                        18.0,
                        13.0,
                        11.0,
                        11.0,
                        16.0,
                        28.0,
                        66.0,
                        122.0,
                        181.0,
                        232.0,
                        270.0,
                        292.0,
                        293.0,
                        270.0,
                        292.0,
                        293.0
                      ],
                      "EC": null,
                      "ESP": null,
                      "LabileP": null,
                      "UnavailableP": null,
                      "ECMetadata": null,
                      "CLMetadata": null,
                      "ESPMetadata": null,
                      "PHMetadata": null,
                      "Name": "Chemical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Thickness": [
                        100.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0
                      ],
                      "NO3": null,
                      "NH4": null,
                      "LabileP": null,
                      "UnavailableP": null,
                      "SW": [
                        0.434,
                        0.43,
                        0.48,
                        0.47,
                        0.46,
                        0.46,
                        0.46,
                        0.485,
                        0.49,
                        0.474,
                        0.457,
                        0.453,
                        0.447,
                        0.465,
                        0.457,
                        0.43
                      ],
                      "OC": null,
                      "EC": null,
                      "CL": null,
                      "ESP": null,
                      "PH": null,
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "Initial water",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "Temperature",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Swim3, Models",
                      "PrecipitationInterception": 0.0,
                      "ersoil": 1E-06,
                      "ernode": 1E-06,
                      "slcerr": 1E-06,
                      "theta": null,
                      "psi": null,
                      "Salb": 0.13,
                      "CN2Bare": 75.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "KDul": 0.1,
                      "PSIDul": -100.0,
                      "VC": true,
                      "DTMin": 0.0,
                      "DTMax": 1440.0,
                      "MaxWaterIncrement": 5.0,
                      "SpaceWeightingFactor": 0.0,
                      "SoluteSpaceWeightingFactor": 1.0,
                      "Dis": 0.0,
                      "Disp": 1.0,
                      "A": 2.0,
                      "DTHC": 0.1,
                      "DTHP": 2.0,
                      "Diagnostics": true,
                      "WaterTable": 0.0,
                      "Name": "Swim3",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Urea",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "CL",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "LabileP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-10",
                            "10-30",
                            "30-50",
                            "50-70",
                            "70-90",
                            "90-110",
                            "110-130",
                            "130-150",
                            "150-170",
                            "170-190",
                            "190-210",
                            "210-230",
                            "230-250",
                            "250-270",
                            "270-290",
                            "290-310"
                          ],
                          "Thickness": [
                            100.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0,
                            200.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "UnavailableP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.LayerStructure, Models",
                      "Depth": [
                        "0-1",
                        "1-3",
                        "3-6",
                        "6-10",
                        "10-30",
                        "30-50",
                        "50-70",
                        "70-90",
                        "90-110",
                        "110-130",
                        "130-150",
                        "150-170",
                        "170-190",
                        "190-210",
                        "210-230",
                        "230-250",
                        "250-270",
                        "270-290",
                        "290-310"
                      ],
                      "Thickness": [
                        10.0,
                        20.0,
                        30.0,
                        40.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0,
                        200.0
                      ],
                      "Name": "LayerStructure",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Solute, Models",
                      "Name": "CL",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "unknown",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 1.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOM",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "ResourceName": "Fertiliser",
                  "Name": "Fertiliser",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Wheat",
                  "Name": "Wheat",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Operations, Models",
                  "Operation": [
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1994-08-05",
                      "Action": " [Wheat].Sow(population:26, cultivar:hartog, depth:40, rowSpacing:300);\t",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1994-08-05",
                      "Action": "[Fertiliser].Apply(70, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1994-09-07",
                      "Action": " [Wheat].EndCrop();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1994-10-27",
                      "Action": " [Wheat].Harvest();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1995-06-01",
                      "Action": " [Wheat].Sow(cultivar:hartog, population:126, depth:40, rowSpacing:300);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1995-06-01",
                      "Action": "[Fertiliser].Apply(80, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1995-11-28",
                      "Action": " [Wheat].Harvest();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1995-11-28",
                      "Action": " [Wheat].EndCrop();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1996-07-02",
                      "Action": " [Wheat].Sow(cultivar:hartog, population:126, depth:40, rowSpacing:300);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1996-07-02",
                      "Action": "[Fertiliser].Apply(101, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1996-12-04",
                      "Action": " [Wheat].EndCrop();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1997-06-02",
                      "Action": " [Wheat].Sow(cultivar:hartog, population:71, depth:40, rowSpacing:300);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1997-06-02",
                      "Action": "[Fertiliser].Apply(100, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1997-11-26",
                      "Action": " [Wheat].Harvest();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1997-11-26",
                      "Action": "[Wheat].EndCrop();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1998-06-18",
                      "Action": " [Wheat].Sow(cultivar:hartog, population:126, depth:40, rowSpacing:300);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1998-06-18",
                      "Action": "[Fertiliser].Apply(102, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1998-12-02",
                      "Action": " [Wheat].Harvest();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1998-12-02",
                      "Action": "[Wheat].EndCrop();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1999-06-23",
                      "Action": " [Wheat].Sow(cultivar:hartog, population:50, depth:40, rowSpacing:300);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1999-06-23",
                      "Action": "[Fertiliser].Apply(102, Fertiliser.Types.NO3N, 50);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1999-12-16",
                      "Action": " [Wheat].Harvest();",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "1999-12-16",
                      "Action": " [Wheat].EndCrop();",
                      "Enabled": true
                    }
                  ],
                  "Name": "Operations",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowInDocs": true,
              "GraphsPerPage": 6,
              "Name": "Crop",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Biomass",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.AboveGround.Wt",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.AboveGround.Wt",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Wheat",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 1,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Barley.AboveGround.Wt",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Barley",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Yield",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.Grain.Wt",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.Grain.Wt",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Wheat",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 1,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Barley.Grain.Wt",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Barley",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "LAI",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.Leaf.LAI",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Wheat.Leaf.LAI",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Wheat",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 1,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCrop",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Barley.Leaf.LAI",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed Barley",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowInDocs": true,
              "GraphsPerPage": 6,
              "Name": "SoilWater",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "SW110cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SW110",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedSW",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "sw110",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "SW210cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SW210",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedSW",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "sw210",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "SW310cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SW310",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedSW",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "sw310",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowInDocs": true,
              "GraphsPerPage": 6,
              "Name": "Chloride",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Chloride110cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Cl110",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCl",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "CL110",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Chloride210cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Cl210",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCl",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Cl210",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Chloride310cm",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Cl310",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Predicted",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 0,
                      "MarkerSize": 0,
                      "Line": 4,
                      "LineThickness": 0,
                      "TableName": "ObservedCl",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Cl310",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Observed",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowInDocs": false,
      "GraphsPerPage": 6,
      "Name": "Sensibility",
      "Children": [
        {
          "$type": "Models.Core.Folder, Models",
          "ShowInDocs": true,
          "GraphsPerPage": 6,
          "Name": "LowerBoundaryConditions",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "https://www.apsim.info/documentation/model-documentation/soil-modules-documentation/swimv2-1/\n\n# Overview\n\nSWIM3 (Huth et al., 2012) allows three of the four lower boundary conditions described in Verburg et al. (1996) as described below. The zero flux lower boundary condition has not been enabled. \n\nAll references to \"SWIM\" here refer to the highly detailed documentation by Verburg et al. (1996) of the standalone model that has morphed over the years into SWIM3. Verburg et al. remains the definitive documentation and should be referred to for detail.\n\nSee the \"SWIM3_SetLowerBC\" Manager script (to be found in both the SWIM3 example and in the Manager toolbox) for examples of how to change lower boundary conditions.\n\n## SetLowerBCForGradient(bbcGradient)\n\nA constant gradient in soil water potential with depth is the default lower boundary condition and is applicable to most 'open field' simulations where there is free drainage from the soil. This option is ibbc = 0 in SWIM3. This lower boundary condition setting must be accompanied by the value of that gradient. This is done using a command in a Manager script along the lines of:\n\n\tSetLowerBCForGradient(bbcGradient);\n\nwhere bbcGradient is a double (real) variable with the value of the required gradient in soil water potential with depth in the soil. The set value remains in place until the user resets it.\nGravity is added to bbcGradient so the most common setting is bbcGradient = 0.0 which means that there is no gradient of soil water potential. In this case, water moves under the influence of gravity alone at the lower boundary. This is the default for SWIM3 and will prevail unless the user intervenes.\nOther gradients can be set. For example, setting bbcGradient = -1.0 will set the soil water potential gradient to counteract the effect of gravity and will essentially set a no-flow lower boundary (which is likely to result in an unstable simulation). \n\n## SetLowerBCForGivenPotential(bbcPotential)\n\nThis lower boundary condition sets a constant soil water potential at the lowest node in the simulation. Note that soil water potential is in units of cm (although units of mm are used on the user interface) and is negative in unsaturated soils. This option can be useful for mimicking the effect of a water table at the base of the simulation by setting a positive value equal to the height difference between the water table and the bottom of the simulated soil profile. Note that in this setting, water will be added to the simulation at the lower boundary as needed to maintain the user set soil water potential.\nSee the Manager script \"SWIM3_SetLowerBC\" for an example: \n\n\tSetLowerBCForGivenPotential(bbcPotential);\n\nwhere bbcPotential is the required potential as a double variable in cm. this setting is equivalent to ibbc = 1 in SWIM.\n\n## SetLowerBCForSeepage(bbcPotentialSeepage)\n\nA seepage lower boundary is a condition where no drainage can occur until a user-set head of water (i.e., a depth of saturated soil) of bbcPotentialSeepage accumulates at the base of the soil profile. Once that head is reached drainage occurs at the rate allowed by the saturated soil water conductivity under gravity only until the head falls below the user-set value. This lower boundary condition is that of ibbc = 3 in SWIM. A common usage of this boundary condition is when simulating a zero-tension (i.e., free to the atmosphere) lysimeter and in this case bbcPotentialSeepage = 0.0. See an example in \"SWIM3_SetLowerBC\":\n\n\tSetLowerBCForSeepage(bbcPotentialSeepage);\n\nwhere bbcPotentialSeepage is in cm.\n\n## Testing\n\nThe simulation below runs a simple pasture simulation in an irrigated environment with lower boundary conditions of a unit gradient (“Gradient”), zero-tension seepage as in a lysimeter (“Seepage”), and a set water potential of -500 mm (so wetter than the drained upper limit, “Potential”). \n\nThe simulation contains a Manager component to check for preservation of mass in the water balance (“CalculateRollingWaterBalance”). This component calculates daily and cumulative water balances to test for errors and drift. First the component adds up the daily water inputs (rain, irrigation), outputs (drainage, **tile drainage**, soil water evaporation, runoff, plant water uptake), and change in water storage from the start to the end of the day. Here, storage is both the water in the soil and that in any surface pond. The water balance is the water added, minus water removed, minus the increase in water stored. Note that this water balance component is generic and can be added to any simulation.\n\nSeveral plots have been produced.\n\n**Daily WaterBalance** shows that the largest absolute daily error in the water balance is less than 0.0003 mm and that there are more positive errors (water ‘lost’ in the simulation) than negative errors. Following this to the **Cumulative WaterBalance** shows the effect of the lop-sided daily errors but is reassuring in that the cumulative error is less than 0.02 mm even after six years of simulation.\n\n**WaterStored** shows the amount of water stored in the soil (none of these simulations included ponding conditions). As expected, the Potential simulation has the highest water storage because the lower boundary potential of -500 mm is wetter than the drained upper limit and water is regularly being added into the simulation to maintain that water potential. The Seepage simulation holds slightly more water in the soil than the Gradient simulation because in Seepage drainage cannot occur until the lower boundary soil water potential rises to zero. That need to the water potential to rise to zero before draining means that some water must accumulate at the base of the soil while the potential is rising and so it allows more time for plants to access the water before it eventually drains. The outcome is that there will generally be somewhat less drainage when a seepage lower boundary condition is set compared to the default unit gradient boundary condition.\n\n**PsiOfLowestLayer** shows the time series of soil water potential in the lower layer. In Potential it is the prescribed -50 cm (note that SWIM3’s outputs of psi are in cm rather than mm – something that might be fixed in the future perhaps). Seepage maintains a higher value of Psi than Gradient for most of the simulation as expected.\n\n**Gradient**, **Seepage** and **Potential** detail the time series of soil water potential in the lowest layer against drainage for each boundary condition type. Close examination of **Seepage** shows that drainage is only present when the potential is zero. Note that the drainage is the sum of that during the day while the potential is that at the end of the day so it is possible that there was some drainage during the day but a slightly negative potential at the end of the day. One feature of this boundary condition is the absence of the almost-daily small (< 1mm /day) drainage amounts that are seen in **Gradient**. The negative drainage in **Potential** is the result of inflow to maintain the -500 mm soil water potential at the lower boundary. **Drainage** and **CumulativeDrainage** show the effects of the boundary conditions more clearly.\n\nIn these simulations there is no difference in **WaterUptake** across the boundary conditions (because the simulations are well irrigated). In the absence of irrigation it would be expected that their would be higher water uptake in the seepage and potential (given a value of -500 mm) boundary conditions as they hold more water in the soil (see **WaterStored**) for the bulk of the simulation duration.\n\nOnly the constant potential boundary condition resulted in any **Runoff** (the simulations are in a relatively dry environment with a highly permeable soil). The irrigation setting for the simulations was based on soil water deficit. Therefore, as might be expected, **Irrigation** (see also ** CumulativeIrrigation**) commenced later in each season for the constant potential boundary condition and less irrigation was applied. Also as expected, slightly more irrigation was applied to the constant gradient simulation than the seepage simulation.\n\n",
              "Name": "Memo Lower BC",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E1",
              "Children": [
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=gradient",
                        "[SWIM3].MaxWaterIncrement=1"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Gradient",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=seepage",
                        "[SWIM3].MaxWaterIncrement=5",
                        "[SWIM3].DTMax = 30"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Seepage",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=potential",
                        "[SWIM3_SetLowerBC].Script.LowerBCValue=-1000",
                        "[SWIM3].MaxWaterIncrement=5",
                        "[SWIM3].DTMax = 30"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Potential",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "Base_LowerBC",
                  "Children": [
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2005-01-31T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private ISoilWater waterBalance;  // and I think this will give solutes as well\n        [Link] private IPlant[] plants;\n        [Link] private Nutrient nutrient;\n\n  \n        // add (no3+nh4) uptake as N uptake to IPlant\n\n        public double NBalanceCumulative  { get; set; }\n        public double NBalanceToday  { get; set; }\n\n        public double SoilNAtInitialisation  { get; set; }\n        public double SoilNYesterday  { get; set; }\n\t\tpublic double SoilNNow  { get; set; }\n\n\t\tpublic double PlantNUptake { get; set; }\n\n        public double NAddedToday  { get; set; }\n        public double NRemovedToday  { get; set; }\n        public double NAddedCumulative  { get; set; }\n        public double NRemovedCumulative  { get; set; }\n\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")]\n        private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n        \t{\n        \t\t// capture the N in and on the soil as a starting point\n        \t\t// doing this here as need the models to have intialised first\n\t        \tSoilNAtInitialisation = 0.0; // leave this here as a reminder that once surface solutes are enabled will have to add here\n\t        \t//SoilNAtInitialisation += nutrient.Urea.kgha.Sum() + nutrient.NH4.kgha.Sum() + nutrient.NO3.kgha.Sum() + nutrient.TotalN.Urea.kgha.Sum() ;// + nutrient.\n    \t    \t//for (int i = 0; i < waterBalance.SWmm.Length; i++)\n        \t\t\t//SoilNAtInitialisation += waterBalance...SWmm[i];\n\n        \t\t//SoilWaterYesterday = SoilWaterAtInitialisation;\t\t\n        \t\t//WaterAddedCumulative = 0.0;\n        \t\t//WaterRemovedCumulative = 0.0;\n        \t\t//SoilWaterNow = 0.0;\n        \t}\n        \telse\n        \t{\n        \t\t//SoilWaterYesterday = SoilWaterNow;\t\t// SoilWaterNow holds the value calculated at reporting yesterday\n        \t\t//WaterAddedToday = 0.0;\n        \t\t//WaterRemovedToday = 0.0;\n        \t}\n\t\t}\n\n        //[EventSubscribe(\"DoReportCalculations\")]\n        private void DoReportCalculations(object sender, EventArgs e)\n        {\n        \t/* All the WaterBalance variables should be zero. A positive value is a generation of water.\n        \tSoilWaterNow = waterBalance.Pond;\n        \tfor (int i = 0; i < waterBalance.SWmm.Length; i++)\n        \t\tSoilWaterNow += waterBalance.SWmm[i]; // so all the water stored in or on the soil\n\n        \tWaterAddedToday = weather.Rain + irrigation.IrrigationApplied;   // Can there be runon? Probably not but this will throw an error if that ever happens\n        \tWaterAddedCumulative+= WaterAddedToday;\n\n        \tWaterRemovedToday = waterBalance.Drainage + waterBalance.Es + waterBalance.Runoff;\n        \tPlantWaterUptake = 0.0;\n        \tforeach (var plant in plants)\n        \t\tPlantWaterUptake += plant.WaterUptake.Sum();\n\n        \tWaterRemovedToday += PlantWaterUptake;\n        \t// Need to add subsurface drainage here\n\n        \tWaterRemovedCumulative += WaterRemovedToday;\n\n        \tWaterBalanceToday = WaterAddedToday - WaterRemovedToday - (SoilWaterNow - SoilWaterYesterday);\n        \tWaterBalanceCumulative = WaterAddedCumulative - WaterRemovedCumulative - (SoilWaterNow - SoilWaterAtInitialisation);\n        \t// need to add a warning value and a crash value and make a crash\n\t\t*/}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "CalculateRollingSoilNitrogenBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "potential"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "True"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 0,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": null,
                          "LocalName": null,
                          "Site": null,
                          "NearestTown": null,
                          "Region": null,
                          "State": null,
                          "Country": null,
                          "NaturalVegetation": null,
                          "ApsoilNumber": null,
                          "Latitude": 0.0,
                          "Longitude": 0.0,
                          "LocationAccuracy": null,
                          "YearOfSampling": null,
                          "DataSource": null,
                          "Comments": null,
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                17.61,
                                17.61,
                                17.61,
                                17.61
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.77,
                                33.77,
                                33.77,
                                33.77
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                48.62,
                                48.62,
                                48.62,
                                48.62
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.865,
                                0.865,
                                0.865,
                                0.865
                              ],
                              "AirDry": [
                                0.077,
                                0.077,
                                0.077,
                                0.077,
                                0.077
                              ],
                              "LL15": [
                                0.231,
                                0.231,
                                0.231,
                                0.231,
                                0.231
                              ],
                              "DUL": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "SAT": [
                                0.58,
                                0.58,
                                0.58,
                                0.58,
                                0.58
                              ],
                              "KS": [
                                216.0,
                                216.0,
                                216.0,
                                216.0,
                                216.0
                              ],
                              "BDMetadata": null,
                              "AirDryMetadata": null,
                              "LL15Metadata": null,
                              "DULMetadata": null,
                              "SATMetadata": null,
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPRyegrassSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.0,
                                    0.0
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPWhiteCloverSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7
                              ],
                              "SoilCNRatio": [
                                12.5,
                                12.5,
                                12.5,
                                12.5,
                                12.5
                              ],
                              "FBiom": [
                                0.08,
                                0.02,
                                0.015,
                                0.01,
                                0.01
                              ],
                              "FInert": [
                                0.58,
                                0.7,
                                0.77,
                                0.9,
                                0.99
                              ],
                              "FOM": [
                                92.873,
                                57.963,
                                31.811,
                                11.373,
                                0.0
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3N": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4N": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": null,
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "LabileP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "UnavailableP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "SW": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "OC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "EC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                5.7,
                                5.3,
                                5.9,
                                6.6,
                                6.7
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 50.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 60.0,
                              "MaxWaterIncrement": 5.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 20.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.SimpleGrazing, Models",
                          "GrazingRotationType": 0,
                          "SimpleGrazingFrequencyString": "end of month",
                          "SimpleMinGrazable": 0.0,
                          "SimpleGrazingResidual": 1200.0,
                          "PreGrazeDMArray": null,
                          "PostGrazeDMArray": null,
                          "FlexibleExpressionForTimingOfGrazing": null,
                          "FlexibleGrazePostDM": 0.0,
                          "MaximumRotationLengthArray": null,
                          "MinimumRotationLengthArray": null,
                          "NoGrazingStartString": null,
                          "NoGrazingEndString": null,
                          "FractionDefoliatedNToSoil": [
                            90.0
                          ],
                          "FractionExcretedNToDung": [
                            0.4
                          ],
                          "CNRatioDung": 0.0,
                          "DepthUrineIsAdded": 150.0,
                          "FractionPopulationDecline": 0.0,
                          "TramplingOn": false,
                          "MaximumPropLitterMovedToSoil": 0.1,
                          "PastureConsumedAtMaximumRateOfLitterRemoval": 1200.0,
                          "SpeciesCutProportions": null,
                          "Name": "SimpleGrazing",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 2500.0,
                          "InitialRootDM": 500.0,
                          "InitialRootDepth": 350.0,
                          "ResourceName": "AGPRyegrass",
                          "Name": "AGPRyegrass",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 500.0,
                          "InitialRootDM": 250.0,
                          "InitialRootDepth": 300.0,
                          "ResourceName": "AGPWhiteClover",
                          "Name": "AGPWhiteClover",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[SWIM3_SetLowerBC].Script.LowerBCType",
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterAddedToday as WaterAddedToday",
                            "[CalculateRollingWaterBalance].Script.WaterRemovedToday as WaterRemovedToday",
                            "[Soil].Swim3.Drainage as Drainage",
                            "[Soil].Swim3.Runoff as Runoff",
                            "sum([Soil].Swim3.SWmm) as WaterStored",
                            "[Soil].Swim3.Pond as PondDepth",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.PlantWaterUptake",
                            "[Soil].Swim3.psi as Psi",
                            "[Soil].Swim3.SW as SW",
                            "[Irrigation].IrrigationApplied as Irrigation",
                            "[AGPRyegrass].AboveGround.Wt + [AGPWhiteClover].AboveGround.Wt as AboveGroundBioamss"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterStored",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterStored",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Stored",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "PsiOfLowestLayer",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "WaterRemovedToday",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Gradient",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16777216,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Gradient'",
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Gradient'",
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage (mm)",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Seepage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16777216,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Seepage'",
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Seepage'",
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage (mm)",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Potential",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16777216,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Potential'",
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Potential'",
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterAddedToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": "[SimulationName] LIKE '*Gradient'",
                          "Name": "Rain_Irrig",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterUptake",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.PlantWaterUptake",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Uptake",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Runoff",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Runoff",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Runoff",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Runoff",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Runoff",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Irrigation",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Irrigation",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Runoff",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeIrrigation",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Irrigation",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Folder, Models",
          "ShowInDocs": true,
          "GraphsPerPage": 6,
          "Name": "PotentialLowerBoundaryCondition",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "This series of simulations tests/demonstrates the setting of different potentials of the constant potential lower boundary condition. Values of 0, -1000 (drained upper limit), -10,000 and -100,000 mm were set. No irrigation was applied.\n\nThe first two plots show that the water balance was acceptable. **WaterStored** shows the expected changes with varying lower boundary condition. **WaterUptake** and its cumulative show no effect of the two wetter lower boundary conditions that were pumping considerable amounts of water (see **Drainage**) into the bottom of the soil profile but water uptake was reduced in the drier two boundary conditions.\n",
              "Name": "Memo Lower BC Potentials",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E2",
              "Children": [
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=potential",
                        "[SWIM3_SetLowerBC].Script.LowerBCValue=0",
                        "[Swim3].MaxWaterIncrement = 1.0"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Potential_0",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=potential",
                        "[SWIM3_SetLowerBC].Script.LowerBCValue=-1000"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Potential_1000",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=potential",
                        "[SWIM3_SetLowerBC].Script.LowerBCValue=-10000"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Potential_10000",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SWIM3_SetLowerBC].Script.LowerBCType=potential",
                        "[SWIM3_SetLowerBC].Script.LowerBCValue=-100000"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Potential_100000",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "Base_LowerBC_Potentials",
                  "Children": [
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2005-12-31T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Memo, Models",
                          "Text": "The first few lines in IrrigationSchedule\n// these are only here to get the soil above saturation - \n\n// not working all that well because the upper BC is causing all the excess water to runoff anyway\n\n// can delete this probably once pond is fixed.\n\nAdd with and without plants to the experiment. Need a more flexible Manager first? Or add and kill?\n\nCould be nice to be able to swap from weather to controlled environment without having to change the links in \"CalculateRollingWaterBalance\"\n",
                          "Name": "To do and notes",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "potential"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "False"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 0,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": null,
                          "LocalName": null,
                          "Site": null,
                          "NearestTown": null,
                          "Region": null,
                          "State": null,
                          "Country": null,
                          "NaturalVegetation": null,
                          "ApsoilNumber": null,
                          "Latitude": 0.0,
                          "Longitude": 0.0,
                          "LocationAccuracy": null,
                          "YearOfSampling": null,
                          "DataSource": null,
                          "Comments": null,
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                17.61,
                                17.61,
                                17.61,
                                17.61
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.77,
                                33.77,
                                33.77,
                                33.77
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                48.62,
                                48.62,
                                48.62,
                                48.62
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.865,
                                0.865,
                                0.865,
                                0.865
                              ],
                              "AirDry": [
                                0.077,
                                0.077,
                                0.077,
                                0.077,
                                0.077
                              ],
                              "LL15": [
                                0.231,
                                0.231,
                                0.231,
                                0.231,
                                0.231
                              ],
                              "DUL": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "SAT": [
                                0.58,
                                0.58,
                                0.58,
                                0.58,
                                0.58
                              ],
                              "KS": [
                                216.0,
                                216.0,
                                216.0,
                                216.0,
                                216.0
                              ],
                              "BDMetadata": null,
                              "AirDryMetadata": null,
                              "LL15Metadata": null,
                              "DULMetadata": null,
                              "SATMetadata": null,
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPRyegrassSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.0,
                                    0.0
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPWhiteCloverSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7
                              ],
                              "SoilCNRatio": [
                                12.5,
                                12.5,
                                12.5,
                                12.5,
                                12.5
                              ],
                              "FBiom": [
                                0.08,
                                0.02,
                                0.015,
                                0.01,
                                0.01
                              ],
                              "FInert": [
                                0.58,
                                0.7,
                                0.77,
                                0.9,
                                0.99
                              ],
                              "FOM": [
                                92.873,
                                57.963,
                                31.811,
                                11.373,
                                0.0
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3N": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4N": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": null,
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "LabileP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "UnavailableP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "SW": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "OC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "EC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                5.7,
                                5.3,
                                5.9,
                                6.6,
                                6.7
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 0.0,
                              "CNRed": 0.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 30.0,
                              "MaxWaterIncrement": 5.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 20.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.SimpleGrazing, Models",
                          "GrazingRotationType": 0,
                          "SimpleGrazingFrequencyString": "end of month",
                          "SimpleMinGrazable": 0.0,
                          "SimpleGrazingResidual": 1200.0,
                          "PreGrazeDMArray": null,
                          "PostGrazeDMArray": null,
                          "FlexibleExpressionForTimingOfGrazing": null,
                          "FlexibleGrazePostDM": 0.0,
                          "MaximumRotationLengthArray": null,
                          "MinimumRotationLengthArray": null,
                          "NoGrazingStartString": null,
                          "NoGrazingEndString": null,
                          "FractionDefoliatedNToSoil": [
                            90.0
                          ],
                          "FractionExcretedNToDung": [
                            0.4
                          ],
                          "CNRatioDung": 0.0,
                          "DepthUrineIsAdded": 150.0,
                          "FractionPopulationDecline": 0.0,
                          "TramplingOn": false,
                          "MaximumPropLitterMovedToSoil": 0.1,
                          "PastureConsumedAtMaximumRateOfLitterRemoval": 1200.0,
                          "SpeciesCutProportions": null,
                          "Name": "SimpleGrazing",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 2500.0,
                          "InitialRootDM": 500.0,
                          "InitialRootDepth": 350.0,
                          "ResourceName": "AGPRyegrass",
                          "Name": "AGPRyegrass",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 500.0,
                          "InitialRootDM": 250.0,
                          "InitialRootDepth": 300.0,
                          "ResourceName": "AGPWhiteClover",
                          "Name": "AGPWhiteClover",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[SWIM3_SetLowerBC].Script.LowerBCType",
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterAddedToday as WaterAddedToday",
                            "[CalculateRollingWaterBalance].Script.WaterRemovedToday as WaterRemovedToday",
                            "[Soil].Swim3.Drainage as Drainage",
                            "[Soil].Swim3.Runoff as Runoff",
                            "sum([Soil].Swim3.SWmm) as WaterStored",
                            "[Soil].Swim3.Pond as PondDepth",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.PlantWaterUptake",
                            "",
                            "[Irrigation].IrrigationApplied as Irrigation",
                            "[Weather].Rain as Rainfall",
                            "",
                            "[Soil].Swim3.psi as Psi",
                            "[Soil].Swim3.SW as SW",
                            "[Soil].Physical.DUL as DUL",
                            "[Soil].Physical.SAT as Sat"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterStored",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterStored",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Stored",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "PsiOfLowestLayer",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterUptake",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.PlantWaterUptake",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Uptake",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeWaterUptake",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.PlantWaterUptake",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Uptake",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Folder, Models",
          "ShowInDocs": true,
          "GraphsPerPage": 6,
          "Name": "SurfaceBoundaryConditions",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "See the \"SetSurfaceBoundaryCondition\" manager script for examples of how to change the surface boundary conditions.\n\n## SetSurfaceBoundaryCondition(CurveNumber)\n\nThe curve number approach for calculating runoff is the default surface boundary condition and is applicable to most 'open field' simulations. This option is ISBC = 0 in SWIM. This surface boundary condition relies on the value of **bare soil runoff curve number** in the SWIM3 component. Setting this surface boundary condition is done using a command in a Manager script:\n\n\tSetSurfaceBCForCurveNumber();\n\n**NOTE: If bare soil runoff curve number is set to zero then SWIM will enable ponding and excess water at the surface will go into a pond instead of runoff.** This is equivalent to ISBC = 1 in SWIM.\n\n## SetSurfaceBoundaryCondition(PowerFunction)\n\nA simple power-law function for calculating runoff can be defined. This option is ISBC = 2 in the SWIM manual. This function requires 6 arguments to be specified. The first three arguments define the minimum, maximum and initial size of the pond (mm). The last three arguments define the parameters (hrc, roff0, roff1) to the runoff equation as defined in the SWIM manual (Verburg et al. (1996).\n\n\nSetting this surface boundary condition is done using a command in a Manager script:\n\n\tswim.SetSurfaceBCForPowerFunction(minimumSurfaceStorage: 10, \n                    \t\t  maximumSurfaceStorage: 20, \n                    \t\t  initialSurfaceStorage: 15, \n                    \t\t  precipitationConstant: 50, \n                    \t\t  runoffRateFactor: 0.2, \n                    \t\t  runoffRatePower: 2);\n\n## Testing\n\nAn experiment has been set up to show the impacts of using these two methods for setting the surface boundary condition. The first three experiment factors use the curve number approach with 3 different curve numbers (0, 50 and 90). The fouth factor uses the power-rate function.\n\nThe graphs show the following characteristics:\n* When curve number is zero there is no runoff. Instead ponding occurs at serveral points during the simulation. The lack of runoff results in more water stored in the profile.\n* Using the power function (with the above arguments) results in the lowest rate of runoff. \n* As expected, using a curve number of 90 results in the highest rate of runoff.\n* Mass balance is maintained for all options.\n\n",
              "Name": "Memo Surface BC",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E3",
              "Children": [
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SetSurfaceBoundaryCondition].Script.SurfaceBCType = CurveNumber",
                        "[Swim3].CN2Bare = 0"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "CurveNumber0",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SetSurfaceBoundaryCondition].Script.SurfaceBCType = CurveNumber",
                        "[Swim3].CN2Bare = 50"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "CurveNumber50",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SetSurfaceBoundaryCondition].Script.SurfaceBCType = CurveNumber",
                        "[Swim3].CN2Bare = 90"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "CurveNumber90",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[SetSurfaceBoundaryCondition].Script.SurfaceBCType = PowerFunction"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "PowerFunction",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "Base_SurfaceBC",
                  "Children": [
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2005-12-30T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        \n        public enum SurfaceBCOptions { CurveNumber, PowerFunction };\r\n\r\n        [Description(\"What surface boundary condition?\")] \n        public SurfaceBCOptions SurfaceBCType { get; set; }\r\n\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\n            summary.WriteMessage(this, \"Script is setting surface boundary condition to \" + SurfaceBCType, MessageType.Diagnostic);\r\n            if (SurfaceBCType == SurfaceBCOptions.CurveNumber)\n            \tswim.SetSurfaceBCForCurveNumber();\r\n            else if (SurfaceBCType == SurfaceBCOptions.PowerFunction)\n                swim.SetSurfaceBCForPowerFunction(minimumSurfaceStorage: 10, \n                  \t\t\t\t\t\t\t      maximumSurfaceStorage: 20, \n                   \t\t\t\t\t\t\t      initialSurfaceStorage: 15, \n                   \t\t\t\t\t\t\t      precipitationConstant: 50, \n                   \t\t\t\t\t\t\t      runoffRateFactor: 0.2, \n                   \t\t\t\t\t\t\t      runoffRatePower: 2);\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "SurfaceBCType",
                              "Value": "CurveNumber"
                            }
                          ],
                          "Name": "SetSurfaceBoundaryCondition",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 0,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": null,
                          "LocalName": null,
                          "Site": null,
                          "NearestTown": null,
                          "Region": null,
                          "State": null,
                          "Country": null,
                          "NaturalVegetation": null,
                          "ApsoilNumber": null,
                          "Latitude": 0.0,
                          "Longitude": 0.0,
                          "LocationAccuracy": null,
                          "YearOfSampling": null,
                          "DataSource": null,
                          "Comments": null,
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                17.61,
                                17.61,
                                17.61,
                                17.61
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.77,
                                33.77,
                                33.77,
                                33.77
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                48.62,
                                48.62,
                                48.62,
                                48.62
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.865,
                                0.865,
                                0.865,
                                0.865
                              ],
                              "AirDry": [
                                0.077,
                                0.077,
                                0.077,
                                0.077,
                                0.077
                              ],
                              "LL15": [
                                0.231,
                                0.231,
                                0.231,
                                0.231,
                                0.231
                              ],
                              "DUL": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "SAT": [
                                0.58,
                                0.58,
                                0.58,
                                0.58,
                                0.58
                              ],
                              "KS": [
                                5.0,
                                5.0,
                                5.0,
                                5.0,
                                5.0
                              ],
                              "BDMetadata": null,
                              "AirDryMetadata": null,
                              "LL15Metadata": null,
                              "DULMetadata": null,
                              "SATMetadata": null,
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.231
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPRyegrassSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SoilCrop, Models",
                                  "LL": [
                                    0.231,
                                    0.231,
                                    0.231,
                                    0.0,
                                    0.0
                                  ],
                                  "KL": [
                                    0.1,
                                    0.1,
                                    0.1,
                                    0.0,
                                    0.0
                                  ],
                                  "XF": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    0.0,
                                    0.0
                                  ],
                                  "LLMetadata": null,
                                  "KLMetadata": null,
                                  "XFMetadata": null,
                                  "Name": "AgPWhiteCloverSoil",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7
                              ],
                              "SoilCNRatio": [
                                12.5,
                                12.5,
                                12.5,
                                12.5,
                                12.5
                              ],
                              "FBiom": [
                                0.08,
                                0.02,
                                0.015,
                                0.01,
                                0.01
                              ],
                              "FInert": [
                                0.58,
                                0.7,
                                0.77,
                                0.9,
                                0.99
                              ],
                              "FOM": [
                                92.873,
                                57.963,
                                31.811,
                                11.373,
                                0.0
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3N": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4N": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": null,
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                150.0
                              ],
                              "NO3": [
                                6.503,
                                2.101,
                                2.101,
                                1.701,
                                1.701
                              ],
                              "NH4": [
                                0.599,
                                0.1,
                                0.1,
                                0.1,
                                0.1
                              ],
                              "LabileP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "UnavailableP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "SW": [
                                0.565,
                                0.565,
                                0.565,
                                0.565,
                                0.565
                              ],
                              "OC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "EC": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                5.7,
                                5.3,
                                5.9,
                                6.6,
                                6.7
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 50.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 60.0,
                              "MaxWaterIncrement": 5.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-70"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    150.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 20.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.SimpleGrazing, Models",
                          "GrazingRotationType": 0,
                          "SimpleGrazingFrequencyString": "end of month",
                          "SimpleMinGrazable": 0.0,
                          "SimpleGrazingResidual": 1200.0,
                          "PreGrazeDMArray": null,
                          "PostGrazeDMArray": null,
                          "FlexibleExpressionForTimingOfGrazing": null,
                          "FlexibleGrazePostDM": 0.0,
                          "MaximumRotationLengthArray": null,
                          "MinimumRotationLengthArray": null,
                          "NoGrazingStartString": null,
                          "NoGrazingEndString": null,
                          "FractionDefoliatedNToSoil": [
                            90.0
                          ],
                          "FractionExcretedNToDung": [
                            0.4
                          ],
                          "CNRatioDung": 0.0,
                          "DepthUrineIsAdded": 150.0,
                          "FractionPopulationDecline": 0.0,
                          "TramplingOn": false,
                          "MaximumPropLitterMovedToSoil": 0.1,
                          "PastureConsumedAtMaximumRateOfLitterRemoval": 1200.0,
                          "SpeciesCutProportions": null,
                          "Name": "SimpleGrazing",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 2500.0,
                          "InitialRootDM": 500.0,
                          "InitialRootDepth": 350.0,
                          "ResourceName": "AGPRyegrass",
                          "Name": "AGPRyegrass",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.AgPasture.PastureSpecies, Models",
                          "InitialShootDM": 500.0,
                          "InitialRootDM": 250.0,
                          "InitialRootDepth": 300.0,
                          "ResourceName": "AGPWhiteClover",
                          "Name": "AGPWhiteClover",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[SetSurfaceBoundaryCondition].Script.SurfaceBCType",
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterAddedToday as WaterAddedToday",
                            "[CalculateRollingWaterBalance].Script.WaterRemovedToday as WaterRemovedToday",
                            "[Soil].Swim3.Drainage as Drainage",
                            "[Soil].Swim3.Runoff as Runoff",
                            "sum([Soil].Swim3.SWmm) as WaterStored",
                            "[Soil].Swim3.Pond as PondDepth",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.PlantWaterUptake",
                            "[Soil].Swim3.psi as Psi",
                            "[Soil].Swim3.SW as SW",
                            "[Irrigation].IrrigationApplied as Irrigation"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": 0.0,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterAdded",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterAddedToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Added",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterRemoved",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterRemovedToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterStored",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterStored",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Stored",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterPonded",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "PondDepth",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Ponded",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "PsiOfLowestLayer",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -1663232,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(14)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "LowerPot",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "WaterUptake",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "CalculateRollingWaterBalance.Script.PlantWaterUptake",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Uptake",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Runoff",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Runoff",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Runoff",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Runoff",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Folder, Models",
          "ShowInDocs": true,
          "GraphsPerPage": 6,
          "Name": "TileDrainage",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "# Subsurface drainage\n\nSubsurface drainage in APSIM's SWIM3 is implemented using the Hooghoudt equation. The tests below examine the sensibility of the responses in subsurface and vertical (i.e., normal) drainage as well as test for mass balance in water.",
              "Name": "Memo",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E4_1",
              "Children": [
                {
                  "$type": "Models.Memo, Models",
                  "Text": "## Depth to the impermeable layer\n\nWhen the vertical distance between the subsurface drains and the impermeable layer decreases, the drains become more effective. The reader is referred to the scientific/engineering literature on drainage to understand the details but in casual terms, when that distance is small the flow lines are compressed and the drains are more effective.\n\nThe simulations below show that as the depth to the impermeable layer increases from 750 to 950 mm, the subsurface flow decreases and drainage increases. This is as expected. Water balance is within tolerance (less than 0.03 mm when the simulation was extended to six years).\n",
                  "Name": "Memo",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[SWIM3].SwimSubsurfaceDrain.ImpermDepth = 750 to 1000 step 100",
                      "Name": "DepthToImperm",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "TileDrainage1",
                  "Children": [
                    {
                      "$type": "Models.Memo, Models",
                      "Text": "## Depth to the impermeable layer\n\nWhen the vertical distance between the subsurface drains and the impermeable layer decreases, the drains become more effective. The reader is referred to the scientific/engineering literature on drainage to understand the details but in casual terms, when that distance is small the flow lines are compressed and the drains are more effective.\n\nThe simulations below show that as the depth to the impermeable layer increases from 750 to 950 mm, the subsurface flow decreases and drainage increases. This is as expected. Water balance is within tolerance (0.03 mm when the simulation was extended to six years).\n",
                      "Name": "Memo",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2000-01-31T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "gradient"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "True"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            }
                          ],
                          "Name": "AddIrrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 0.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 1232,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": "Loam",
                          "LocalName": "Horotiu",
                          "Site": "Ruakura, south of Railway Ln",
                          "NearestTown": "Hamilton",
                          "Region": "Waikato",
                          "State": null,
                          "Country": "New Zealand",
                          "NaturalVegetation": "long term grass",
                          "ApsoilNumber": "1320",
                          "Latitude": -37.779,
                          "Longitude": 175.304,
                          "LocationAccuracy": "+/-50 m",
                          "YearOfSampling": "1984",
                          "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                          "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Memo, Models",
                              "Text": "VS - added kF and nF from HydCurves for exco and fip. Also added 5 (units unclear) for D0\n\nVS - changed the last four Ks values from as below to 3 mm /day (to try and get tile drainage)\n\n13,367\n7,114\n6,216\n3,256\n6,716\n2,348\n18,003\n62,350\n\n\n",
                              "Name": "Notes",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44
                              ],
                              "ParticleSizeSand": [
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54
                              ],
                              "ParticleSizeSilt": [
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82
                              ],
                              "AirDry": [
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091
                              ],
                              "LL15": [
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276
                              ],
                              "DUL": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "SAT": [
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45
                              ],
                              "KS": [
                                100.0,
                                50.0,
                                25.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7,
                                1.2,
                                0.7,
                                0.1
                              ],
                              "SoilCNRatio": [
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649
                              ],
                              "FBiom": [
                                0.08,
                                0.072,
                                0.026,
                                0.008,
                                0.008,
                                0.008,
                                0.008,
                                0.008
                              ],
                              "FInert": [
                                0.597,
                                0.642,
                                0.777,
                                0.896,
                                0.957,
                                0.975,
                                0.992,
                                0.986
                              ],
                              "FOM": [
                                26.67651879646381,
                                21.4084077983616,
                                16.180126544455657,
                                10.011993583030847,
                                6.711239999485762,
                                4.49867870541152,
                                3.0155545169109996,
                                1.4974800558798063
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "LabileP": null,
                              "UnavailableP": null,
                              "SW": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "OC": null,
                              "EC": null,
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 0.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 1440.0,
                              "MaxWaterIncrement": 10.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                                  "DrainDepth": 500.0,
                                  "DrainSpacing": 5000.0,
                                  "DrainRadius": 150.0,
                                  "Klat": 1000.0,
                                  "ImpermDepth": 2000.0,
                                  "Name": "SwimSubsurfaceDrain",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                16.36,
                                16.42,
                                29.030000000000005,
                                18.44,
                                32.64,
                                9.49,
                                1.0
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.90999999999999,
                                35.91,
                                46.26,
                                53.54,
                                45.98,
                                63.84,
                                93.20999999999998
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                49.730000000000004,
                                47.669999999999995,
                                24.710000000000004,
                                28.02,
                                21.38,
                                26.66999999999998,
                                5.79
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.835,
                                0.805,
                                0.83,
                                0.82,
                                0.815,
                                0.944,
                                1.063
                              ],
                              "AirDry": [
                                0.081,
                                0.068,
                                0.067,
                                0.085,
                                0.091,
                                0.094,
                                0.075,
                                0.015
                              ],
                              "LL15": [
                                0.246,
                                0.207,
                                0.203,
                                0.259,
                                0.276,
                                0.286,
                                0.227,
                                0.045
                              ],
                              "DUL": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "SAT": [
                                0.588,
                                0.605,
                                0.616,
                                0.625,
                                0.628,
                                0.633,
                                0.552,
                                0.312
                              ],
                              "KS": [
                                13367.0,
                                7114.0,
                                6216.0,
                                3256.0,
                                6716.0,
                                2348.0,
                                18003.0,
                                62350.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "PhysicalActual",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday as WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative as WaterBalanceCumulative",
                            "sum([Soil].Nutrient.TotalN) as TotalN",
                            "[Soil].Swim3.SubsurfaceDrain as SubsurfaceDrain",
                            "[Soil].Swim3.Drainage as Drainage",
                            "sum([Soil].Swim3.SWmm) as WaterStorage",
                            "[Soil].Swim3.WaterTable as WaterTableDepth",
                            "[Soil].Swim3.psi as Psi",
                            "[Irrigation].IrrigationApplied as Irrigation",
                            "[NO3].kgha"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainageCumulative",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "DepthToImperm",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Irrigation.IrrigationApplied",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Psi",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 0,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Irrigation",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(10)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Psi10",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E4_2",
              "Children": [
                {
                  "$type": "Models.Memo, Models",
                  "Text": "## Drain spacing\n\nA the spacing between subsurface drains decreases, subsurface drain flow can be expected to increase under conditions of high flow (when the hydraulics of the drains would otherwise be limiting).\n\nThe simulations below show that as drain spacing is decreased from 10 m to 1 m, the subsurface flow increases and vertical drainage decreases. This is as expected. Water balance is within tolerance (less than 0.03 mm when the simulation was extended to six years).\n",
                  "Name": "Memo",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[SWIM3].SwimSubsurfaceDrain.DrainSpacing = 1000 to 10000 step 1000",
                      "Name": "DrainSpacing",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "TileDrainage2",
                  "Children": [
                    {
                      "$type": "Models.Memo, Models",
                      "Text": "On hold until the leaching variables are exposed",
                      "Name": "Memo",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2000-01-31T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "gradient"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "True"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            }
                          ],
                          "Name": "AddIrrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 0.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 1232,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": "Loam",
                          "LocalName": "Horotiu",
                          "Site": "Ruakura, south of Railway Ln",
                          "NearestTown": "Hamilton",
                          "Region": "Waikato",
                          "State": null,
                          "Country": "New Zealand",
                          "NaturalVegetation": "long term grass",
                          "ApsoilNumber": "1320",
                          "Latitude": -37.779,
                          "Longitude": 175.304,
                          "LocationAccuracy": "+/-50 m",
                          "YearOfSampling": "1984",
                          "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                          "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Memo, Models",
                              "Text": "VS - added kF and nF from HydCurves for exco and fip. Also added 5 (units unclear) for D0\n\nVS - changed the last four Ks values from as below to 3 mm /day (to try and get tile drainage)\n\n13,367\n7,114\n6,216\n3,256\n6,716\n2,348\n18,003\n62,350\n\n\n",
                              "Name": "Notes",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44
                              ],
                              "ParticleSizeSand": [
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54
                              ],
                              "ParticleSizeSilt": [
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82
                              ],
                              "AirDry": [
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091
                              ],
                              "LL15": [
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276
                              ],
                              "DUL": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "SAT": [
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45
                              ],
                              "KS": [
                                100.0,
                                50.0,
                                25.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7,
                                1.2,
                                0.7,
                                0.1
                              ],
                              "SoilCNRatio": [
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649
                              ],
                              "FBiom": [
                                0.08,
                                0.072,
                                0.026,
                                0.008,
                                0.008,
                                0.008,
                                0.008,
                                0.008
                              ],
                              "FInert": [
                                0.597,
                                0.642,
                                0.777,
                                0.896,
                                0.957,
                                0.975,
                                0.992,
                                0.986
                              ],
                              "FOM": [
                                26.67651879646381,
                                21.4084077983616,
                                16.180126544455657,
                                10.011993583030847,
                                6.711239999485762,
                                4.49867870541152,
                                3.0155545169109996,
                                1.4974800558798063
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "LabileP": null,
                              "UnavailableP": null,
                              "SW": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "OC": null,
                              "EC": null,
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 0.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 1440.0,
                              "MaxWaterIncrement": 10.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                                  "DrainDepth": 500.0,
                                  "DrainSpacing": 5000.0,
                                  "DrainRadius": 150.0,
                                  "Klat": 1000.0,
                                  "ImpermDepth": 1000.0,
                                  "Name": "SwimSubsurfaceDrain",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                16.36,
                                16.42,
                                29.030000000000005,
                                18.44,
                                32.64,
                                9.49,
                                1.0
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.90999999999999,
                                35.91,
                                46.26,
                                53.54,
                                45.98,
                                63.84,
                                93.20999999999998
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                49.730000000000004,
                                47.669999999999995,
                                24.710000000000004,
                                28.02,
                                21.38,
                                26.66999999999998,
                                5.79
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.835,
                                0.805,
                                0.83,
                                0.82,
                                0.815,
                                0.944,
                                1.063
                              ],
                              "AirDry": [
                                0.081,
                                0.068,
                                0.067,
                                0.085,
                                0.091,
                                0.094,
                                0.075,
                                0.015
                              ],
                              "LL15": [
                                0.246,
                                0.207,
                                0.203,
                                0.259,
                                0.276,
                                0.286,
                                0.227,
                                0.045
                              ],
                              "DUL": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "SAT": [
                                0.588,
                                0.605,
                                0.616,
                                0.625,
                                0.628,
                                0.633,
                                0.552,
                                0.312
                              ],
                              "KS": [
                                13367.0,
                                7114.0,
                                6216.0,
                                3256.0,
                                6716.0,
                                2348.0,
                                18003.0,
                                62350.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "PhysicalActual",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday as WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative as WaterBalanceCumulative",
                            "sum([Soil].Nutrient.TotalN) as TotalN",
                            "[Soil].Swim3.SubsurfaceDrain as SubsurfaceDrain",
                            "[Soil].Swim3.Drainage as Drainage",
                            "sum([Soil].Swim3.SWmm) as WaterStorage",
                            "[Soil].Swim3.WaterTable as WaterTableDepth",
                            "[Soil].Swim3.psi as Psi",
                            "[Irrigation].IrrigationApplied as Irrigation",
                            "[NO3].kgha"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "DrainSpacing",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "DrainSpacing",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "DrainSpacing",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainageCumulative",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "DrainSpacing",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Irrigation.IrrigationApplied",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Psi",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 0,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Irrigation",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": "DrainSpacing",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(10)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Psi10",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E4_3",
              "Children": [
                {
                  "$type": "Models.Memo, Models",
                  "Text": "## Depth to the drains\n\nShallower subsurface drains are less effective than deeper drains because they can only drain water stored in the soil layers shallower than the drains themselves.\n\nThe simulations below show that as drain depth increases from 300 to 700 mm, the subsurface flow increases and drainage decreases. This is as expected. Water balance is within tolerance (less than 0.03 mm when the simulation was extended to six years).\n",
                  "Name": "Memo",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[SWIM3].SwimSubsurfaceDrain.DrainDepth = 300 to 700 step 100",
                      "Name": "DrainDepth",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "TileDrainage3",
                  "Children": [
                    {
                      "$type": "Models.Memo, Models",
                      "Text": "On hold until the leaching variables are exposed",
                      "Name": "Memo",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2000-01-31T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "gradient"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "True"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            }
                          ],
                          "Name": "AddIrrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 0.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 1232,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": "Loam",
                          "LocalName": "Horotiu",
                          "Site": "Ruakura, south of Railway Ln",
                          "NearestTown": "Hamilton",
                          "Region": "Waikato",
                          "State": null,
                          "Country": "New Zealand",
                          "NaturalVegetation": "long term grass",
                          "ApsoilNumber": "1320",
                          "Latitude": -37.779,
                          "Longitude": 175.304,
                          "LocationAccuracy": "+/-50 m",
                          "YearOfSampling": "1984",
                          "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                          "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Memo, Models",
                              "Text": "VS - added kF and nF from HydCurves for exco and fip. Also added 5 (units unclear) for D0\n\nVS - changed the last four Ks values from as below to 3 mm /day (to try and get tile drainage)\n\n13,367\n7,114\n6,216\n3,256\n6,716\n2,348\n18,003\n62,350\n\n\n",
                              "Name": "Notes",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44,
                                18.44
                              ],
                              "ParticleSizeSand": [
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54,
                                53.54
                              ],
                              "ParticleSizeSilt": [
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02,
                                28.02
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82,
                                0.82
                              ],
                              "AirDry": [
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091,
                                0.091
                              ],
                              "LL15": [
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276,
                                0.276
                              ],
                              "DUL": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "SAT": [
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45,
                                0.45
                              ],
                              "KS": [
                                100.0,
                                50.0,
                                25.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0,
                                3.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "Carbon": [
                                8.2,
                                5.5,
                                3.3,
                                1.7,
                                1.7,
                                1.2,
                                0.7,
                                0.1
                              ],
                              "SoilCNRatio": [
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649
                              ],
                              "FBiom": [
                                0.08,
                                0.072,
                                0.026,
                                0.008,
                                0.008,
                                0.008,
                                0.008,
                                0.008
                              ],
                              "FInert": [
                                0.597,
                                0.642,
                                0.777,
                                0.896,
                                0.957,
                                0.975,
                                0.992,
                                0.986
                              ],
                              "FOM": [
                                26.67651879646381,
                                21.4084077983616,
                                16.180126544455657,
                                10.011993583030847,
                                6.711239999485762,
                                4.49867870541152,
                                3.0155545169109996,
                                1.4974800558798063
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "LabileP": null,
                              "UnavailableP": null,
                              "SW": [
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414,
                                0.414
                              ],
                              "OC": null,
                              "EC": null,
                              "CL": [
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0,
                                10.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 0.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 1440.0,
                              "MaxWaterIncrement": 10.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0,
                                    5.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                                  "DrainDepth": 500.0,
                                  "DrainSpacing": 5000.0,
                                  "DrainRadius": 150.0,
                                  "Klat": 1000.0,
                                  "ImpermDepth": 1000.0,
                                  "Name": "SwimSubsurfaceDrain",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                16.36,
                                16.42,
                                29.030000000000005,
                                18.44,
                                32.64,
                                9.49,
                                1.0
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.90999999999999,
                                35.91,
                                46.26,
                                53.54,
                                45.98,
                                63.84,
                                93.20999999999998
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                49.730000000000004,
                                47.669999999999995,
                                24.710000000000004,
                                28.02,
                                21.38,
                                26.66999999999998,
                                5.79
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.835,
                                0.805,
                                0.83,
                                0.82,
                                0.815,
                                0.944,
                                1.063
                              ],
                              "AirDry": [
                                0.081,
                                0.068,
                                0.067,
                                0.085,
                                0.091,
                                0.094,
                                0.075,
                                0.015
                              ],
                              "LL15": [
                                0.246,
                                0.207,
                                0.203,
                                0.259,
                                0.276,
                                0.286,
                                0.227,
                                0.045
                              ],
                              "DUL": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "SAT": [
                                0.588,
                                0.605,
                                0.616,
                                0.625,
                                0.628,
                                0.633,
                                0.552,
                                0.312
                              ],
                              "KS": [
                                13367.0,
                                7114.0,
                                6216.0,
                                3256.0,
                                6716.0,
                                2348.0,
                                18003.0,
                                62350.0
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "PhysicalActual",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[Clock].Today as Date",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceToday as WaterBalanceToday",
                            "[CalculateRollingWaterBalance].Script.WaterBalanceCumulative as WaterBalanceCumulative",
                            "sum([Soil].Nutrient.TotalN) as TotalN",
                            "[Soil].Swim3.SubsurfaceDrain as SubsurfaceDrain",
                            "[Soil].Swim3.Drainage as Drainage",
                            "sum([Soil].Swim3.SWmm) as WaterStorage",
                            "[Soil].Swim3.WaterTable as WaterTableDepth",
                            "[Soil].Swim3.psi as Psi",
                            "[Irrigation].IrrigationApplied as Irrigation",
                            "[NO3].kgha"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Daily WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceToday",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Daily WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Cumulative WaterBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -16747854,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "WaterBalanceCumulative",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Cumulative WaterBal",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Drainage",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": 0,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Drainage",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Drainage",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "TileDrainageCumulative",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "SubsurfaceDrain",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Subsurface",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "Irrigation.IrrigationApplied",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "Psi",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 0,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": null,
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Irrigation",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -990142,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "Psi(10)",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Psi10",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Folder, Models",
          "ShowInDocs": false,
          "GraphsPerPage": 6,
          "Name": "SoluteMassBalanceTesting",
          "Children": [
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E5_tracer",
              "Children": [
                {
                  "$type": "Models.Memo, Models",
                  "Text": "Mass balance was tested using chloride as a tracer. Several simulations were run with a linear (FIP=1) isotherm. The simulation was set up with a bare soil, no crops, no evaporation, and 10 mm /day of rainfall. Cl was added to the top 10 mm of soil on the first day (see the AddSoluteToSoil manager) and mass balance was calculated on a daily basis. Using Factors, “exco” of the Cl was changed between 0.0 and 10. When exco = 0 the Cl is not adsorbed (no attraction to the soil surfaces). When exco = 1 the concentration on the soil surfaces in g solute / Mg soil is numerically equal to the concentration in the soil water in g solute / m3 soil water. When exco is 10 the concentration on the soil surfaces will be ten times of that in the soil water (noting the difference in units of course) and the solute is only minimally mobile.\n\nThe mass balance error was less than 0.05 kg (of 100 kg) of solute across all simulations and it did not worsen with duration of simulation. The worst mass balance was in the no-adsorption simulation and coincided with peak leaching rate when changes in concentration were relatively steep. Given this, part of the mass balance error may be due to recalculating solute amounts from the node basis of SWIM’s numerical solution onto the layer basis that APSIM uses. Regardless, the error was minimal and within the tolerance for APSIM’s purposes.  \n",
                  "Name": "Memo",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco0",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco0_5",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco1",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco1_5",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.5,
                            1.5,
                            1.5,
                            1.5,
                            1.5,
                            1.5,
                            1.5,
                            1.5
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco3",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            3.0,
                            3.0,
                            3.0,
                            3.0,
                            3.0,
                            3.0,
                            3.0,
                            3.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Exco10",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            10.0,
                            10.0,
                            10.0,
                            10.0,
                            10.0,
                            10.0,
                            10.0,
                            10.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "Base_SoluteLinear",
                  "Children": [
                    {
                      "$type": "Models.Climate.ControlledEnvironment, Models",
                      "MaxT": 0.0,
                      "MinT": 0.0,
                      "Rain": 10.0,
                      "Radn": 0.0,
                      "PanEvap": 0.0,
                      "VP": 0.0,
                      "Wind": 0.0,
                      "CO2": 0.0,
                      "AirPressure": 1010.0,
                      "DiffuseFraction": 0.0,
                      "Latitude": 0.0,
                      "Longitude": 0.0,
                      "DayLength": 0.0,
                      "SunRise": 0.0,
                      "SunSet": 0.0,
                      "Name": "ControlledEnvironment",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2000-06-30T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        /*[Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Fertiliser fertiliser;\n        [Link] Swim3 swim3;\n        [Link(ByName = true)] private Solute no3; */\n        [Link(ByName = true)] private Solute cl;\n  \n\n\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n\t        \tcl.AddKgHaDelta(SoluteSetterType.Other, new double[] {100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0});\n\t\t}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "AddSoluteToSoil",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Swim3 swim;\n        [Link] private Nutrient nutrient;\n        [Link] private Fertiliser fertiliser;\n        [Link(ByName = true)] private Solute cl;\n\n  \n        public double ChlorideBalance  { get; set; }\n        private  double ChlorideAtInit  { get; set; }\n        private  double ChlorideLeached  { get; set; }\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n\t        {\n\t        \tChlorideAtInit = cl.kgha.Sum();\n\t        \tChlorideLeached = 0.0;\n\t        \tChlorideBalance = 0.0;\n\t        }\n\t\t}\n\n        [EventSubscribe(\"DoReportCalculations\")] private void DoReportCalculations(object sender, EventArgs e)\n        {\n        \t\n        \tChlorideLeached += swim.LeachCl;\n        \tChlorideBalance = ChlorideAtInit - ChlorideLeached - cl.kgha.Sum();\n\t\t}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "SoilChlorideBalance",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "gradient"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "False"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 0.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: UreaN);",
                              "Enabled": false
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: NO3N);",
                              "Enabled": false
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: Cl);",
                              "Enabled": false
                            }
                          ],
                          "Name": "AddFertiliser",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            }
                          ],
                          "Name": "AddWater",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 1232,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": "Loam",
                          "LocalName": "Horotiu",
                          "Site": "Ruakura, south of Railway Ln",
                          "NearestTown": "Hamilton",
                          "Region": "Waikato",
                          "State": null,
                          "Country": "New Zealand",
                          "NaturalVegetation": "long term grass",
                          "ApsoilNumber": "1320",
                          "Latitude": -37.779,
                          "Longitude": 175.304,
                          "LocationAccuracy": "+/-50 m",
                          "YearOfSampling": "1984",
                          "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                          "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                16.36,
                                16.42,
                                29.030000000000005,
                                18.44,
                                32.64,
                                9.49,
                                1.0
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.90999999999999,
                                35.91,
                                46.26,
                                53.54,
                                45.98,
                                63.84,
                                93.20999999999998
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                49.730000000000004,
                                47.669999999999995,
                                24.710000000000004,
                                28.02,
                                21.38,
                                26.66999999999998,
                                5.79
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.835,
                                0.805,
                                0.83,
                                0.82,
                                0.815,
                                0.944,
                                1.063
                              ],
                              "AirDry": [
                                0.081,
                                0.068,
                                0.067,
                                0.085,
                                0.091,
                                0.094,
                                0.075,
                                0.015
                              ],
                              "LL15": [
                                0.246,
                                0.207,
                                0.203,
                                0.259,
                                0.276,
                                0.286,
                                0.227,
                                0.045
                              ],
                              "DUL": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "SAT": [
                                0.588,
                                0.605,
                                0.616,
                                0.625,
                                0.628,
                                0.633,
                                0.552,
                                0.312
                              ],
                              "KS": [
                                13367.955,
                                7114.419,
                                6216.357,
                                3256.961,
                                6716.918,
                                2348.283,
                                18003.598,
                                62350.094
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "Carbon": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "SoilCNRatio": [
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649
                              ],
                              "FBiom": [
                                0.08,
                                0.072,
                                0.026,
                                0.008,
                                0.008,
                                0.008,
                                0.008,
                                0.008
                              ],
                              "FInert": [
                                0.597,
                                0.642,
                                0.777,
                                0.896,
                                0.957,
                                0.975,
                                0.992,
                                0.986
                              ],
                              "FOM": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "LabileP": null,
                              "UnavailableP": null,
                              "SW": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "OC": null,
                              "EC": null,
                              "CL": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 50.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 30.0,
                              "MaxWaterIncrement": 5.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 0.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "NH41",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                                  "DrainDepth": 500.0,
                                  "DrainSpacing": 5000.0,
                                  "DrainRadius": 150.0,
                                  "Klat": 1000.0,
                                  "ImpermDepth": 1000.0,
                                  "Name": "SwimSubsurfaceDrain",
                                  "Children": [],
                                  "Enabled": true,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[Clock].Today as Date",
                            "sum([Soil].Cl.kgha) as StoredCl",
                            "[SWIM3].LeachCl as LeachCl",
                            "[SoilChlorideBalance].Script.ChlorideBalance as ChlorideBalance",
                            "Sum of [SWIM3].Drainage from Start to End as CumulativeDrainage",
                            "[SWIM3].LeachCl / [SWIM3].Drainage / 10 as ConcDrainagePpm"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": true,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "LeachCl",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideLeached",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "LeachCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Leached",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "LeachCl",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideLeached v Drainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 3,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "CumulativeDrainage",
                          "YFieldName": "LeachCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Leached",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": 0.0,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideStored",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "StoredCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Stored",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": "NaN",
                          "Maximum": "NaN",
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "CumulativeChlorideBalance",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "ChlorideBalance",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Balance",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "LeachCl",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ConcentrationInDrainage",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 3,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "CumulativeDrainage",
                          "YFieldName": "ConcDrainagePpm",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Leached",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "LeachCl",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ConcentrationInDrainageWithTime",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 3,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "ConcDrainagePpm",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Leached",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Factorial.Experiment, Models",
              "DisabledSimNames": null,
              "Name": "E5_2_nonlinear",
              "Children": [
                {
                  "$type": "Models.Memo, Models",
                  "Text": "Nonlinear solute isoterms (i.e. anything with a power of the Freundlich isotherm, FIP, of less than 1) are disabled because they are causing a mass balance error. They might be reactivated in the future if the cause can be found. The tests are left here (but disbled so as not to cause a crash) should the issue be addressed in the future.",
                  "Name": "Nonlinear Solute Isotherms",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Factorial.Factors, Models",
                  "Name": "Factors",
                  "Children": [
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NoAdsorb",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "Linear",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP09",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.9,
                            0.9,
                            0.9,
                            0.9,
                            0.9,
                            0.9,
                            0.9,
                            0.9
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP08",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.8,
                            0.8,
                            0.8,
                            0.8,
                            0.8,
                            0.8,
                            0.8,
                            0.8
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP07",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.7,
                            0.7,
                            0.7,
                            0.7,
                            0.7,
                            0.7,
                            0.7,
                            0.7
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP06",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.6,
                            0.6,
                            0.6,
                            0.6,
                            0.6,
                            0.6,
                            0.6,
                            0.6
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP05",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5,
                            0.5
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP04",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4,
                            0.4
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.Factor, Models",
                      "Specification": "[Swim3].Cl",
                      "Name": "NonlinearFIP03",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "FIP": [
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": false,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Simulation, Models",
                  "IsRunning": false,
                  "Descriptors": null,
                  "Name": "Base_SoluteNonlinear",
                  "Children": [
                    {
                      "$type": "Models.Memo, Models",
                      "Text": "On hold until the leaching variables are exposed",
                      "Name": "Memo",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Climate.Weather, Models",
                      "ConstantsFile": null,
                      "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
                      "ExcelWorkSheetName": "",
                      "Name": "Weather",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Clock, Models",
                      "Start": "2000-01-01T00:00:00",
                      "End": "2000-06-30T00:00:00",
                      "Name": "Clock",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Summary, Models",
                      "Verbosity": 100,
                      "Name": "summaryfile",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                      "Name": "SoilArbitrator",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "SoilHeatFluxFraction": 0.0,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.0,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.ForageDigestibility.Forages, Models",
                      "Parameters": [
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "SurfaceOrganicMatter.Residue",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 0.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPRyegrass.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Leaf",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stem",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": true,
                          "DigestibilityString": "0.7",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 100.0,
                          "UseDigestibilityFromModel": false
                        },
                        {
                          "$type": "Models.ForageDigestibility.ForageMaterialParameters, Models",
                          "Name": "AGPWhiteClover.Stolon",
                          "IsLive": false,
                          "DigestibilityString": "0.3",
                          "FractionConsumable": 1.0,
                          "MinimumAmount": 0.0,
                          "UseDigestibilityFromModel": false
                        }
                      ],
                      "Name": "Forages",
                      "Children": [],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Core.Zone, Models",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "AspectAngle": 0.0,
                      "Altitude": 50.0,
                      "Name": "paddock",
                      "Children": [
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "",
                          "Parameters": [],
                          "Name": "CalculateRollingWaterBalance",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        /*[Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Fertiliser fertiliser;\n        [Link] Swim3 swim3;\n        [Link(ByName = true)] private Solute no3; */\n        [Link(ByName = true)] private Solute cl;\n  \n\n\t\tpublic double ChlorideAdded { get; set; }\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n        \t{\n\t        \tcl.AddKgHaDelta(SoluteSetterType.Other, new double[] {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0});\n\t        \tChlorideAdded = cl.kgha.Sum();\n        \t}\n        \telse\n\t        \tChlorideAdded = 0.0;\n\t\t}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "SetSoluteInSoil",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Swim3 swim;\n        [Link] private Nutrient nutrient;\n        [Link] private Fertiliser fertiliser;\n        [Link(ByName = true)] private Solute cl;\n\n  \n        public double ChlorideBalance  { get; set; }\n        private  double ChlorideAtInit  { get; set; }\n        private  double ChlorideLeached  { get; set; }\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n\t        {\n\t        \tChlorideAtInit = cl.kgha.Sum();\n\t        \tChlorideLeached = 0.0;\n\t        \tChlorideBalance = 0.0;\n\t        }\n\t\t}\n\n        [EventSubscribe(\"DoReportCalculations\")] private void DoReportCalculations(object sender, EventArgs e)\n        {\n        \t\n        \tChlorideLeached += swim.LeachCl;\n        \tChlorideBalance = ChlorideAtInit - ChlorideLeached - cl.kgha.Sum();\n\t\t}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "SoilChlorideBalance",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        //[Link] private PastureSpecies ryegrass;\r\n        //[Link] private SimpleGrazing grazing;\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"[Get a dropdown] What lower boundary condition is wanted?\")] public LowerBCTypeOptions LowerBCType { get; set; }\r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoDailyInitialisation\")]\r\n        private void DoDailyInitialisation(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoReportCalculations\")]\r\n        private void DoReportCalculations(object sender, EventArgs e)\r\n        {\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "LowerBCType",
                              "Value": "gradient"
                            },
                            {
                              "Key": "LowerBCValue",
                              "Value": "-500"
                            }
                          ],
                          "Name": "SWIM3_SetLowerBC",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                          "Parameters": [
                            {
                              "Key": "allowIrrigation",
                              "Value": "False"
                            },
                            {
                              "Key": "seasonStart",
                              "Value": "1-sep"
                            },
                            {
                              "Key": "seasonEnd",
                              "Value": "30-mar"
                            },
                            {
                              "Key": "seasonsAllocation",
                              "Value": "10000"
                            },
                            {
                              "Key": "triggerDeficit",
                              "Value": "80"
                            },
                            {
                              "Key": "targetDeficit",
                              "Value": "100"
                            },
                            {
                              "Key": "returndays",
                              "Value": "3"
                            },
                            {
                              "Key": "maximumAmount",
                              "Value": "30"
                            },
                            {
                              "Key": "depthPAWC",
                              "Value": "300"
                            }
                          ],
                          "Name": "AutomaticIrrigation",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                          "InitialResidueName": "grass",
                          "InitialResidueType": "grass",
                          "InitialResidueMass": 0.0,
                          "InitialStandingFraction": 0.0,
                          "InitialCPR": 0.0,
                          "InitialCNR": 17.0,
                          "ResourceName": "SurfaceOrganicMatter",
                          "Name": "SurfaceOrganicMatter",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: UreaN);",
                              "Enabled": false
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: NO3N);",
                              "Enabled": false
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-02",
                              "Action": "[Fertiliser].Apply(Amount: 500, Type: Cl);",
                              "Enabled": false
                            }
                          ],
                          "Name": "AddFertiliser",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Operations, Models",
                          "Operation": [
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-01-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-02-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-03-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-04-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-05-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-05",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-10",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-15",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-20",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-25",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            },
                            {
                              "$type": "Models.Operation, Models",
                              "Date": "2000-06-30",
                              "Action": "[Irrigation].Apply(amount:100,duration:60);",
                              "Enabled": true
                            }
                          ],
                          "Name": "AddWater",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Soil, Models",
                          "RecordNumber": 1232,
                          "ASCOrder": null,
                          "ASCSubOrder": null,
                          "SoilType": "Loam",
                          "LocalName": "Horotiu",
                          "Site": "Ruakura, south of Railway Ln",
                          "NearestTown": "Hamilton",
                          "Region": "Waikato",
                          "State": null,
                          "Country": "New Zealand",
                          "NaturalVegetation": "long term grass",
                          "ApsoilNumber": "1320",
                          "Latitude": -37.779,
                          "Longitude": 175.304,
                          "LocationAccuracy": "+/-50 m",
                          "YearOfSampling": "1984",
                          "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                          "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                          "Name": "Soil",
                          "Children": [
                            {
                              "$type": "Models.Memo, Models",
                              "Text": "VS - added kF and nF from HydCurves for exco and fip. Also added 5 (units unclear) for D0\n",
                              "Name": "Notes",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Physical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "ParticleSizeClay": [
                                17.61,
                                16.36,
                                16.42,
                                29.030000000000005,
                                18.44,
                                32.64,
                                9.49,
                                1.0
                              ],
                              "ParticleSizeSand": [
                                33.77,
                                33.90999999999999,
                                35.91,
                                46.26,
                                53.54,
                                45.98,
                                63.84,
                                93.20999999999998
                              ],
                              "ParticleSizeSilt": [
                                48.62,
                                49.730000000000004,
                                47.669999999999995,
                                24.710000000000004,
                                28.02,
                                21.38,
                                26.66999999999998,
                                5.79
                              ],
                              "Rocks": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "Texture": null,
                              "BD": [
                                0.865,
                                0.835,
                                0.805,
                                0.83,
                                0.82,
                                0.815,
                                0.944,
                                1.063
                              ],
                              "AirDry": [
                                0.081,
                                0.068,
                                0.067,
                                0.085,
                                0.091,
                                0.094,
                                0.075,
                                0.015
                              ],
                              "LL15": [
                                0.246,
                                0.207,
                                0.203,
                                0.259,
                                0.276,
                                0.286,
                                0.227,
                                0.045
                              ],
                              "DUL": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "SAT": [
                                0.588,
                                0.605,
                                0.616,
                                0.625,
                                0.628,
                                0.633,
                                0.552,
                                0.312
                              ],
                              "KS": [
                                13367.955,
                                7114.419,
                                6216.357,
                                3256.961,
                                6716.918,
                                2348.283,
                                18003.598,
                                62350.094
                              ],
                              "BDMetadata": [
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility",
                                "Field measured and checked for sensibility"
                              ],
                              "AirDryMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "LL15Metadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "DULMetadata": [
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured",
                                "Laboratory measured"
                              ],
                              "SATMetadata": [
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD",
                                "Calculated from measured, estimated or calculated BD"
                              ],
                              "KSMetadata": null,
                              "RocksMetadata": null,
                              "TextureMetadata": null,
                              "ParticleSizeSandMetadata": null,
                              "ParticleSizeSiltMetadata": null,
                              "ParticleSizeClayMetadata": null,
                              "Name": "Physical",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Nutrient, Models",
                              "ResourceName": "Nutrient",
                              "Name": "Nutrient",
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Organic, Models",
                              "FOMCNRatio": 40.0,
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "Carbon": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "SoilCNRatio": [
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649,
                                10.649
                              ],
                              "FBiom": [
                                0.08,
                                0.072,
                                0.026,
                                0.008,
                                0.008,
                                0.008,
                                0.008,
                                0.008
                              ],
                              "FInert": [
                                0.597,
                                0.642,
                                0.777,
                                0.896,
                                0.957,
                                0.975,
                                0.992,
                                0.986
                              ],
                              "FOM": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "CarbonMetadata": null,
                              "FOMMetadata": null,
                              "Name": "Organic",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Chemical, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4N": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "CL": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "EC": null,
                              "ESP": null,
                              "LabileP": null,
                              "UnavailableP": null,
                              "ECMetadata": null,
                              "CLMetadata": null,
                              "ESPMetadata": null,
                              "PHMetadata": [
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge",
                                "Estimated based on local knowledge"
                              ],
                              "Name": "Chemical",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Sample, Models",
                              "Thickness": [
                                60.0,
                                110.0,
                                140.0,
                                240.0,
                                200.0,
                                200.0,
                                200.0,
                                350.0
                              ],
                              "NO3": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "NH4": [
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0,
                                0.0
                              ],
                              "LabileP": null,
                              "UnavailableP": null,
                              "SW": [
                                0.511,
                                0.451,
                                0.439,
                                0.419,
                                0.414,
                                0.429,
                                0.364,
                                0.092
                              ],
                              "OC": null,
                              "EC": null,
                              "CL": [
                                0.0,
                                0.0,
                                0.001,
                                0.0,
                                0.0,
                                0.001,
                                0.0,
                                0.0
                              ],
                              "ESP": [
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN",
                                "NaN"
                              ],
                              "PH": [
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5,
                                6.5
                              ],
                              "SWUnits": 0,
                              "OCUnits": 0,
                              "PHUnits": 0,
                              "Name": "Initial values",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Swim3, Models",
                              "PrecipitationInterception": 0.0,
                              "ersoil": 1E-06,
                              "ernode": 1E-06,
                              "slcerr": 1E-06,
                              "theta": null,
                              "psi": null,
                              "Salb": 0.13,
                              "CN2Bare": 50.0,
                              "CNRed": 20.0,
                              "CNCov": 0.8,
                              "KDul": 1.0,
                              "PSIDul": -100.0,
                              "VC": true,
                              "DTMin": 0.0,
                              "DTMax": 30.0,
                              "MaxWaterIncrement": 5.0,
                              "SpaceWeightingFactor": 0.0,
                              "SoluteSpaceWeightingFactor": 1.0,
                              "Dis": 0.0,
                              "Disp": 1.0,
                              "A": 2.0,
                              "DTHC": 0.1,
                              "DTHP": 2.0,
                              "Diagnostics": false,
                              "WaterTable": 0.0,
                              "Name": "Swim3",
                              "Children": [
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Urea",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NH4",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "NO3",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "Cl",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "PlantAvailableNH4",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "PlantAvailableNO3",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "LabileP",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 0.05,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0,
                                    0.0
                                  ],
                                  "FIP": [
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0,
                                    1.0
                                  ],
                                  "Name": "UnavailableP",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSoluteParameters, Models",
                                  "WaterTableConcentration": 0.0,
                                  "D0": 5.0,
                                  "Depth": [
                                    "0-6",
                                    "6-17",
                                    "17-31",
                                    "31-55",
                                    "55-75",
                                    "75-95",
                                    "95-115",
                                    "115-150"
                                  ],
                                  "Thickness": [
                                    60.0,
                                    110.0,
                                    140.0,
                                    240.0,
                                    200.0,
                                    200.0,
                                    200.0,
                                    350.0
                                  ],
                                  "Exco": [
                                    16.98,
                                    24.53,
                                    29.28,
                                    51.55,
                                    37.33,
                                    56.51,
                                    34.12,
                                    14.52
                                  ],
                                  "FIP": [
                                    0.71,
                                    0.62,
                                    0.58,
                                    0.43,
                                    0.51,
                                    0.4,
                                    0.48,
                                    0.47
                                  ],
                                  "Name": "NH41",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                },
                                {
                                  "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                                  "DrainDepth": 500.0,
                                  "DrainSpacing": 5000.0,
                                  "DrainRadius": 150.0,
                                  "Klat": 1000.0,
                                  "ImpermDepth": 1000.0,
                                  "Name": "SwimSubsurfaceDrain",
                                  "Children": [],
                                  "Enabled": false,
                                  "ReadOnly": false
                                }
                              ],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.Nutrients.Solute, Models",
                              "Name": "Cl",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.LayerStructure, Models",
                              "Depth": [
                                "0-1",
                                "1-3",
                                "3-6",
                                "6-10",
                                "10-15",
                                "15-20",
                                "20-25",
                                "25-30",
                                "30-40",
                                "40-50",
                                "50-55",
                                "55-60",
                                "60-65",
                                "65-70"
                              ],
                              "Thickness": [
                                10.0,
                                20.0,
                                30.0,
                                40.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0,
                                100.0,
                                100.0,
                                50.0,
                                50.0,
                                50.0,
                                50.0
                              ],
                              "Name": "LayerStructure",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                              "Name": "SoilTemperature",
                              "Children": [],
                              "Enabled": false,
                              "ReadOnly": false
                            }
                          ],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Irrigation, Models",
                          "Name": "Irrigation",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Fertiliser, Models",
                          "ResourceName": "Fertiliser",
                          "Name": "Fertiliser",
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Report, Models",
                          "VariableNames": [
                            "[Clock].Today as Date",
                            "sum([Soil].Cl.kgha) as StoredCl",
                            "[SWIM3].LeachCl as LeachedCl",
                            "[SoilChlorideBalance].Script.ChlorideBalance as BalanceCl"
                          ],
                          "EventNames": [
                            "[Clock].EndOfDay"
                          ],
                          "GroupByVariableName": null,
                          "Name": "Report",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Manager, Models",
                          "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Fertiliser fertiliser;\n        [Link(ByName = true)] private Solute cl;\n        [Link] Swim3 swim3;\n        [Link(ByName = true)] private Solute no3;\n  \n        // add (no3+nh4) uptake as Cl uptake to IPlant\n\n        public double ClBalanceCumulative  { get; set; }\n        public double ClBalanceToday  { get; set; }\n\n        public double SoilClAtInitialisation  { get; set; }\n        public double SoilClYesterday  { get; set; }\n\t\tpublic double SoilClNow  { get; set; }\n\n        public double ClAddedToday  { get; set; }\n        public double ClRemovedToday  { get; set; }\n        public double ClAddedCumulative  { get; set; }\n        public double ClRemovedCumulative  { get; set; }\n\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n\t        {\n\t        \tcl.AddKgHaDelta(SoluteSetterType.Other, new double[] {100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0});\n\t        \tno3.AddKgHaDelta(SoluteSetterType.Other, new double[] {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}); \n\t\t\t\tSoilClAtInitialisation = cl.kgha.Sum();  \n\t        \tSoilClYesterday = SoilClAtInitialisation;\n\t        \tSoilClNow = SoilClAtInitialisation;\n\t        }\n\t\t}\n\n        [EventSubscribe(\"DoReportCalculations\")] private void DoReportCalculations(object sender, EventArgs e)\n        {\n        \tSoilClYesterday = SoilClNow; // capture yesterday's value before overwriting\n        \tSoilClNow =  cl.kgha.Sum();  \n\n\t\t\t// fertiliser only as this is a bar soil simulation\n        \tClAddedToday = 0.0; // ???? how to get this\n        \tClAddedCumulative+= ClAddedToday;\n        \t\n        \t// leached only for chloride\n        \tClRemovedToday = swim3.LeachCL;  \n        \tClRemovedCumulative += ClRemovedToday;\n\n        \tClBalanceToday = ClAddedToday - ClRemovedToday - (SoilClNow - SoilClYesterday);\n        \tClBalanceCumulative = ClAddedCumulative - ClRemovedCumulative - (SoilClNow - SoilClAtInitialisation);\n        \t// need to add a warning value and a crash value and make a crash\n\t\t}\n    }\n}\n",
                          "Parameters": [],
                          "Name": "SetSoluteInSoil1",
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": false,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Folder, Models",
                  "ShowInDocs": false,
                  "GraphsPerPage": 6,
                  "Name": "Plots",
                  "Children": [
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": 0.0,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideStored",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "StoredCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Stored",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": "LeachCl",
                          "Position": 2,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideLeached",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 2,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "LeachedCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": true,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Leached",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Graph, Models",
                      "Caption": null,
                      "Axis": [
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 3,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": null,
                          "Maximum": null,
                          "Interval": null
                        },
                        {
                          "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                          "Title": null,
                          "Position": 0,
                          "Inverted": false,
                          "CrossesAtZero": false,
                          "Minimum": "NaN",
                          "Maximum": "NaN",
                          "Interval": null
                        }
                      ],
                      "LegendPosition": 0,
                      "LegendOrientation": 0,
                      "AnnotationLocation": 0,
                      "DisabledSeries": [],
                      "LegendOutsideGraph": false,
                      "Name": "ChlorideBalanced",
                      "Children": [
                        {
                          "$type": "Models.Series, Models",
                          "Type": 1,
                          "XAxis": 3,
                          "YAxis": 0,
                          "ColourArgb": -2793984,
                          "FactorToVaryColours": "SimulationName",
                          "FactorToVaryMarkers": null,
                          "FactorToVaryLines": null,
                          "Marker": 11,
                          "MarkerSize": 0,
                          "Line": 0,
                          "LineThickness": 0,
                          "TableName": "Report",
                          "XFieldName": "Date",
                          "YFieldName": "BalanceCl",
                          "X2FieldName": null,
                          "Y2FieldName": null,
                          "ShowInLegend": true,
                          "IncludeSeriesNameInLegend": false,
                          "Cumulative": false,
                          "CumulativeX": false,
                          "Filter": null,
                          "Name": "Balance",
                          "Children": [],
                          "Enabled": false,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": false,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": false,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowInDocs": false,
      "GraphsPerPage": 6,
      "Name": "Tutorial",
      "Children": [
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Descriptors": null,
          "Name": "CreateNewSolute",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "SWIM will discover solutes automatically. To create a new solute:\n\n1. Add a *Solute* to the *soil* node (right click on *soil* and choose *Solute* from the *Soils,Nutrients* folder)\n2. Rename the solute (e.g. to *Br*)\n3. Add a *SwimSoluteParameters* to the swim node (right click on *swim* and choose *SwimSoluteParameters* from the *Soils* folder)\n4. Rename the *SwimSoluteParameters* to the same name as the solute (e.g. to *Br*)\n5. Parameterise as necessary (adding EXCO and FIP)\n\nTo report the value of the solute use:\n\n        [Br].kgha\n\nThe graph at the bottom shows that SWIM is moving the solute in the same was as Cl which is expected given the two solutes are parameterised the same.\n",
              "Name": "Memo",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Climate.ControlledEnvironment, Models",
              "MaxT": 0.0,
              "MinT": 0.0,
              "Rain": 10.0,
              "Radn": 0.0,
              "PanEvap": 0.0,
              "VP": 0.0,
              "Wind": 0.0,
              "CO2": 0.0,
              "AirPressure": 1010.0,
              "DiffuseFraction": 0.0,
              "Latitude": 0.0,
              "Longitude": 0.0,
              "DayLength": 0.0,
              "SunRise": 0.0,
              "SunSet": 0.0,
              "Name": "ControlledEnvironment",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2000-06-30T00:00:00",
              "Name": "Clock",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "Verbosity": 100,
              "Name": "summaryfile",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.MicroClimate, Models",
              "a_interception": 0.0,
              "b_interception": 0.0,
              "c_interception": 0.0,
              "d_interception": 0.0,
              "SoilHeatFluxFraction": 0.0,
              "MinimumHeightDiffForNewLayer": 0.0,
              "NightInterceptionFraction": 0.0,
              "ReferenceHeight": 2.0,
              "Name": "MicroClimate",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "paddock",
              "Children": [
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Surface;\nusing Models.PMF;\nusing Models.Core;\nusing System.Xml.Serialization;\nusing System;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        /*[Link] IWeather weather;\n        [Link] Irrigation irrigation;\n        [Link] private SurfaceOrganicMatter surfaceOM;\n        [Link] private ISoilWater soil;  // and I think this will give solutes as well\n        [Link] private Fertiliser fertiliser;\n        [Link] Swim3 swim3;\n        [Link(ByName = true)] private Solute no3; */\n        [Link(ByName = true)] private Solute cl;\n  \n\n\n\n\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n        \tif (clock.Today == clock.StartDate) \n\t        \tcl.AddKgHaDelta(SoluteSetterType.Other, new double[] {100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0});\n\t\t}\n    }\n}\n",
                  "Parameters": [],
                  "Name": "AddSoluteToSoil",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"What lower boundary condition is wanted?\")] \n        public LowerBCTypeOptions LowerBCType { get; set; }\n        \r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] \n        public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "LowerBCType",
                      "Value": "gradient"
                    },
                    {
                      "Key": "LowerBCValue",
                      "Value": "-500"
                    }
                  ],
                  "Name": "SWIM3SetLowerBC",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.Climate;\nusing APSIM.Shared.Utilities;\nusing Models.Soils.Nutrients;\nusing Models.Soils;\nusing Models.Core;\nusing System;\nusing System.Collections.Generic;\nusing Models.AgPasture;\nusing Models.Interfaces;\nusing System.Linq;\n\nnamespace Models\n{\n    [Serializable] \n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\n    public class Script : Model\n    {\n        [Link] Clock clock;\n        [Link] ISummary summary;\n        [Link] private Solute[] solutes;\n\n\t\tprivate Solute solute;\n\t\tprivate List<DateTime> dates = new List<DateTime>();\n\t\tprivate List<double> values = new List<double>();\n\n\t\tpublic enum SetAddType { Set, Add }\n\n\t    [Description(\"Name of solute:\")]\n    \tpublic string SoluteName { get; set; }\n\n\t    [Description(\"Set the value of the solute or add a delta to it?\")]\n    \tpublic SetAddType SetAdd { get; set; }\n\n\t    [Description(\"Dates (csv) for setting (adding to) the solute:\")]\n    \tpublic string DateCsvString { get; set; }\n\n\t    [Description(\"Values (csv) kg/ha:\")]\n    \tpublic string ValueCsvString { get; set; }\n  \n\t\t\n\t\tpublic double SoluteAdded { get; set; }\n\n\t\t[EventSubscribe(\"StartOfSimulation\")]\n        private void OnStartOfSimulation(object sender, EventArgs e)\n\t\t{\n\t\t\tsolute = Array.Find(solutes, s => s.Name.Equals(SoluteName, StringComparison.InvariantCultureIgnoreCase));\n\t\t\tif (solute == null)\n\t\t\t\tthrow new Exception($\"Cannot find solute {SoluteName}\");\n\t\t\n\t\t\tvar dateStrings = DateCsvString.Split(\",\", StringSplitOptions.RemoveEmptyEntries);\n\t\t\tforeach (var d in dateStrings)\n\t\t\t   dates.Add(DateTime.Parse(d));\n\n\t\t\tvar valueStrings = ValueCsvString.Split(\",\", StringSplitOptions.RemoveEmptyEntries);\n\t\t\tforeach (var v in valueStrings)\n\t\t\t   values.Add(Convert.ToDouble(v));\n    \t}\n    \t\n    \t\n        [EventSubscribe(\"DoDailyInitialisation\")] private void DoDailyInitialisation(object sender, EventArgs e)\n        {\n\t       \tSoluteAdded = 0.0;\n        \tforeach (var d in dates)\n        \t{\n        \t\tif (clock.Today == d) \n\t        \t{\n\t        \t\tif (SetAdd == SetAddType.Add)\n\t\t        \t\tsolute.AddKgHaDelta(SoluteSetterType.Other, values.ToArray());\n\t\t        \telse\n\t\t        \t\tsolute.SetKgHa(SoluteSetterType.Other, values.ToArray());\n\t\t        \t\n\t\t        \tSoluteAdded = solute.kgha.Sum();\n    \t    \t}\n        \t}\n\t\t}\n    }\n}\n",
                  "Parameters": [
                    {
                      "Key": "DateCsvString",
                      "Value": "1/01/2000"
                    },
                    {
                      "Key": "ValueCsvString",
                      "Value": "100,0,0,0,0,0,0,0"
                    },
                    {
                      "Key": "SoluteName",
                      "Value": "Br"
                    },
                    {
                      "Key": "SetAdd",
                      "Value": "Set"
                    }
                  ],
                  "Name": "SoluteInitialise",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "grass",
                  "InitialResidueType": "grass",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 17.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 1232,
                  "ASCOrder": null,
                  "ASCSubOrder": null,
                  "SoilType": "Loam",
                  "LocalName": "Horotiu",
                  "Site": "Ruakura, south of Railway Ln",
                  "NearestTown": "Hamilton",
                  "Region": "Waikato",
                  "State": null,
                  "Country": "New Zealand",
                  "NaturalVegetation": "long term grass",
                  "ApsoilNumber": "1320",
                  "Latitude": -37.779,
                  "Longitude": 175.304,
                  "LocationAccuracy": "+/-50 m",
                  "YearOfSampling": "1984",
                  "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                  "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "ParticleSizeClay": [
                        17.61,
                        16.36,
                        16.42,
                        29.030000000000005,
                        18.44,
                        32.64,
                        9.49,
                        1.0
                      ],
                      "ParticleSizeSand": [
                        33.77,
                        33.90999999999999,
                        35.91,
                        46.26,
                        53.54,
                        45.98,
                        63.84,
                        93.20999999999998
                      ],
                      "ParticleSizeSilt": [
                        48.62,
                        49.730000000000004,
                        47.669999999999995,
                        24.710000000000004,
                        28.02,
                        21.38,
                        26.66999999999998,
                        5.79
                      ],
                      "Rocks": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "Texture": null,
                      "BD": [
                        0.865,
                        0.835,
                        0.805,
                        0.83,
                        0.82,
                        0.815,
                        0.944,
                        1.063
                      ],
                      "AirDry": [
                        0.081,
                        0.068,
                        0.067,
                        0.085,
                        0.091,
                        0.094,
                        0.075,
                        0.015
                      ],
                      "LL15": [
                        0.246,
                        0.207,
                        0.203,
                        0.259,
                        0.276,
                        0.286,
                        0.227,
                        0.045
                      ],
                      "DUL": [
                        0.511,
                        0.451,
                        0.439,
                        0.419,
                        0.414,
                        0.429,
                        0.364,
                        0.092
                      ],
                      "SAT": [
                        0.588,
                        0.605,
                        0.616,
                        0.625,
                        0.628,
                        0.633,
                        0.552,
                        0.312
                      ],
                      "KS": [
                        13367.955,
                        7114.419,
                        6216.357,
                        3256.961,
                        6716.918,
                        2348.283,
                        18003.598,
                        62350.094
                      ],
                      "BDMetadata": [
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility"
                      ],
                      "AirDryMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "LL15Metadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "DULMetadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "SATMetadata": [
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD"
                      ],
                      "KSMetadata": null,
                      "RocksMetadata": null,
                      "TextureMetadata": null,
                      "ParticleSizeSandMetadata": null,
                      "ParticleSizeSiltMetadata": null,
                      "ParticleSizeClayMetadata": null,
                      "Name": "Physical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "Carbon": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "SoilCNRatio": [
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649
                      ],
                      "FBiom": [
                        0.08,
                        0.072,
                        0.026,
                        0.008,
                        0.008,
                        0.008,
                        0.008,
                        0.008
                      ],
                      "FInert": [
                        0.597,
                        0.642,
                        0.777,
                        0.896,
                        0.957,
                        0.975,
                        0.992,
                        0.986
                      ],
                      "FOM": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "CarbonMetadata": null,
                      "FOMMetadata": null,
                      "Name": "Organic",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3N": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "NH4N": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "CL": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "EC": null,
                      "ESP": null,
                      "LabileP": null,
                      "UnavailableP": null,
                      "ECMetadata": null,
                      "CLMetadata": null,
                      "ESPMetadata": null,
                      "PHMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "Name": "Chemical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "NH4": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "LabileP": null,
                      "UnavailableP": null,
                      "SW": [
                        0.511,
                        0.451,
                        0.439,
                        0.419,
                        0.414,
                        0.429,
                        0.364,
                        0.092
                      ],
                      "OC": null,
                      "EC": null,
                      "CL": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "Initial values",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Swim3, Models",
                      "PrecipitationInterception": 0.0,
                      "ersoil": 1E-06,
                      "ernode": 1E-06,
                      "slcerr": 1E-06,
                      "theta": null,
                      "psi": null,
                      "Salb": 0.13,
                      "CN2Bare": 50.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "KDul": 1.0,
                      "PSIDul": -100.0,
                      "VC": true,
                      "DTMin": 0.0,
                      "DTMax": 30.0,
                      "MaxWaterIncrement": 5.0,
                      "SpaceWeightingFactor": 0.0,
                      "SoluteSpaceWeightingFactor": 0.0,
                      "Dis": 0.0,
                      "Disp": 1.0,
                      "A": 2.0,
                      "DTHC": 0.1,
                      "DTHP": 2.0,
                      "Diagnostics": false,
                      "WaterTable": 0.0,
                      "Name": "Swim",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Urea",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 5.0,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Br",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            16.98,
                            24.53,
                            29.28,
                            51.55,
                            37.33,
                            56.51,
                            34.12,
                            14.52
                          ],
                          "FIP": [
                            0.71,
                            0.62,
                            0.58,
                            0.43,
                            0.51,
                            0.4,
                            0.48,
                            0.47
                          ],
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "LabileP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "UnavailableP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Solute, Models",
                      "Name": "Cl",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Solute, Models",
                      "Name": "Br",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.LayerStructure, Models",
                      "Depth": [
                        "0-1",
                        "1-3",
                        "3-6",
                        "6-10",
                        "10-15",
                        "15-20",
                        "20-25",
                        "25-30",
                        "30-40",
                        "40-50",
                        "50-55",
                        "55-60",
                        "60-65",
                        "65-70"
                      ],
                      "Thickness": [
                        10.0,
                        20.0,
                        30.0,
                        40.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0,
                        100.0,
                        100.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0
                      ],
                      "Name": "LayerStructure",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                      "Name": "SoilTemperature",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Irrigation, Models",
                  "Name": "Irrigation",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "ResourceName": "Fertiliser",
                  "Name": "Fertiliser",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today as Date",
                    "sum([Soil].Cl.kgha) as Cl",
                    "sum([Soil].Br.kgha) as Br"
                  ],
                  "EventNames": [
                    "[Clock].EndOfDay"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Graph, Models",
              "Caption": null,
              "Axis": [
                {
                  "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                  "Title": null,
                  "Position": 3,
                  "Inverted": false,
                  "CrossesAtZero": false,
                  "Minimum": null,
                  "Maximum": null,
                  "Interval": null
                },
                {
                  "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                  "Title": null,
                  "Position": 0,
                  "Inverted": false,
                  "CrossesAtZero": false,
                  "Minimum": null,
                  "Maximum": null,
                  "Interval": null
                }
              ],
              "LegendPosition": 0,
              "LegendOrientation": 0,
              "AnnotationLocation": 0,
              "DisabledSeries": [],
              "LegendOutsideGraph": false,
              "Name": "Solute comparison",
              "Children": [
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -16736653,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 0,
                  "LineThickness": 0,
                  "TableName": "Report",
                  "XFieldName": "Date",
                  "YFieldName": "Cl",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": false,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "Cl",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -1663232,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 0,
                  "LineThickness": 0,
                  "TableName": "Report",
                  "XFieldName": "Date",
                  "YFieldName": "Br",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": false,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "Br",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Descriptors": null,
          "Name": "SolutesInIrrigationWater",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "Solutes can be added with irrigation water. To do this, specify the amount of solute when using the* Irrigation.Apply* method. For example:\n\n\t2000-01-01 [Irrigation].Apply(amount:100,duration:60, no3:5);\n\nThe units for amount of solute is kg/ha. Currently, only NO3 and NH4 can be added with irrigation.\n\nThis simulation adds 5 irrigations (through the *AddIrrigation* manager script), each with 5 kg/ha of NO3.\n\nThe graph shows the 5 increases in NO3.\n\nNotes:\n\n1. SWIM will potentially send excess surface water to runoff, regardless of whether it is rainfall or irrigation water. The irrigation apply method has a boolean argument called 'willRunoff' to indictate whether irrigation water should potentially runoff or not. SWIM ignores this property. The result is that irrigation water may potentially be lost through runoff.\n\n2. Runoff water in SWIM does not contain solutes.\n\n3. There is no soil or wind erosion in APSIM.",
              "Name": "Memo",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Climate.ControlledEnvironment, Models",
              "MaxT": 0.0,
              "MinT": 0.0,
              "Rain": 10.0,
              "Radn": 0.0,
              "PanEvap": 0.0,
              "VP": 0.0,
              "Wind": 0.0,
              "CO2": 0.0,
              "AirPressure": 1010.0,
              "DiffuseFraction": 0.0,
              "Latitude": 0.0,
              "Longitude": 0.0,
              "DayLength": 0.0,
              "SunRise": 0.0,
              "SunSet": 0.0,
              "Name": "ControlledEnvironment",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2000-06-30T00:00:00",
              "Name": "Clock",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "Verbosity": 100,
              "Name": "summaryfile",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.MicroClimate, Models",
              "a_interception": 0.0,
              "b_interception": 0.0,
              "c_interception": 0.0,
              "d_interception": 0.0,
              "SoilHeatFluxFraction": 0.0,
              "MinimumHeightDiffForNewLayer": 0.0,
              "NightInterceptionFraction": 0.0,
              "ReferenceHeight": 2.0,
              "Name": "MicroClimate",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "paddock",
              "Children": [
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"What lower boundary condition is wanted?\")] \n        public LowerBCTypeOptions LowerBCType { get; set; }\n        \r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")] \n        public double LowerBCValue { get; set; }\r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "LowerBCType",
                      "Value": "gradient"
                    },
                    {
                      "Key": "LowerBCValue",
                      "Value": "-500"
                    }
                  ],
                  "Name": "SWIM3SetLowerBC",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Operations, Models",
                  "Operation": [
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-01-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60, no3:5);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-02-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60, no3:5);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-03-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60, no3:5);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-04-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60, no3:5);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-05-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60, no3:5);",
                      "Enabled": true
                    }
                  ],
                  "Name": "AddIrrigation",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "grass",
                  "InitialResidueType": "grass",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 17.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 1232,
                  "ASCOrder": null,
                  "ASCSubOrder": null,
                  "SoilType": "Loam",
                  "LocalName": "Horotiu",
                  "Site": "Ruakura, south of Railway Ln",
                  "NearestTown": "Hamilton",
                  "Region": "Waikato",
                  "State": null,
                  "Country": "New Zealand",
                  "NaturalVegetation": "long term grass",
                  "ApsoilNumber": "1320",
                  "Latitude": -37.779,
                  "Longitude": 175.304,
                  "LocationAccuracy": "+/-50 m",
                  "YearOfSampling": "1984",
                  "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                  "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "ParticleSizeClay": [
                        17.61,
                        16.36,
                        16.42,
                        29.030000000000005,
                        18.44,
                        32.64,
                        9.49,
                        1.0
                      ],
                      "ParticleSizeSand": [
                        33.77,
                        33.90999999999999,
                        35.91,
                        46.26,
                        53.54,
                        45.98,
                        63.84,
                        93.20999999999998
                      ],
                      "ParticleSizeSilt": [
                        48.62,
                        49.730000000000004,
                        47.669999999999995,
                        24.710000000000004,
                        28.02,
                        21.38,
                        26.66999999999998,
                        5.79
                      ],
                      "Rocks": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "Texture": null,
                      "BD": [
                        0.865,
                        0.835,
                        0.805,
                        0.83,
                        0.82,
                        0.815,
                        0.944,
                        1.063
                      ],
                      "AirDry": [
                        0.081,
                        0.068,
                        0.067,
                        0.085,
                        0.091,
                        0.094,
                        0.075,
                        0.015
                      ],
                      "LL15": [
                        0.246,
                        0.207,
                        0.203,
                        0.259,
                        0.276,
                        0.286,
                        0.227,
                        0.045
                      ],
                      "DUL": [
                        0.511,
                        0.451,
                        0.439,
                        0.419,
                        0.414,
                        0.429,
                        0.364,
                        0.092
                      ],
                      "SAT": [
                        0.588,
                        0.605,
                        0.616,
                        0.625,
                        0.628,
                        0.633,
                        0.552,
                        0.312
                      ],
                      "KS": [
                        13367.955,
                        7114.419,
                        6216.357,
                        3256.961,
                        6716.918,
                        2348.283,
                        18003.598,
                        62350.094
                      ],
                      "BDMetadata": [
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility"
                      ],
                      "AirDryMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "LL15Metadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "DULMetadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "SATMetadata": [
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD"
                      ],
                      "KSMetadata": null,
                      "RocksMetadata": null,
                      "TextureMetadata": null,
                      "ParticleSizeSandMetadata": null,
                      "ParticleSizeSiltMetadata": null,
                      "ParticleSizeClayMetadata": null,
                      "Name": "Physical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "Carbon": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "SoilCNRatio": [
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649
                      ],
                      "FBiom": [
                        0.08,
                        0.072,
                        0.026,
                        0.008,
                        0.008,
                        0.008,
                        0.008,
                        0.008
                      ],
                      "FInert": [
                        0.597,
                        0.642,
                        0.777,
                        0.896,
                        0.957,
                        0.975,
                        0.992,
                        0.986
                      ],
                      "FOM": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "CarbonMetadata": null,
                      "FOMMetadata": null,
                      "Name": "Organic",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3N": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4N": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "CL": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "EC": null,
                      "ESP": null,
                      "LabileP": null,
                      "UnavailableP": null,
                      "ECMetadata": null,
                      "CLMetadata": null,
                      "ESPMetadata": null,
                      "PHMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "Name": "Chemical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "LabileP": null,
                      "UnavailableP": null,
                      "SW": [
                        0.511,
                        0.451,
                        0.439,
                        0.419,
                        0.414,
                        0.429,
                        0.364,
                        0.092
                      ],
                      "OC": null,
                      "EC": null,
                      "CL": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "Initial values",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Swim3, Models",
                      "PrecipitationInterception": 0.0,
                      "ersoil": 1E-06,
                      "ernode": 1E-06,
                      "slcerr": 1E-06,
                      "theta": null,
                      "psi": null,
                      "Salb": 0.13,
                      "CN2Bare": 50.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "KDul": 1.0,
                      "PSIDul": -100.0,
                      "VC": true,
                      "DTMin": 0.0,
                      "DTMax": 30.0,
                      "MaxWaterIncrement": 5.0,
                      "SpaceWeightingFactor": 0.0,
                      "SoluteSpaceWeightingFactor": 0.0,
                      "Dis": 0.0,
                      "Disp": 1.0,
                      "A": 2.0,
                      "DTHC": 0.1,
                      "DTHP": 2.0,
                      "Diagnostics": false,
                      "WaterTable": 0.0,
                      "Name": "Swim",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Urea",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 5.0,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "LabileP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "UnavailableP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.LayerStructure, Models",
                      "Depth": [
                        "0-1",
                        "1-3",
                        "3-6",
                        "6-10",
                        "10-15",
                        "15-20",
                        "20-25",
                        "25-30",
                        "30-40",
                        "40-50",
                        "50-55",
                        "55-60",
                        "60-65",
                        "65-70"
                      ],
                      "Thickness": [
                        10.0,
                        20.0,
                        30.0,
                        40.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0,
                        100.0,
                        100.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0
                      ],
                      "Name": "LayerStructure",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                      "Name": "SoilTemperature",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Irrigation, Models",
                  "Name": "Irrigation",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "ResourceName": "Fertiliser",
                  "Name": "Fertiliser",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today as Date",
                    "sum([NO3].kgha) as NO3"
                  ],
                  "EventNames": [
                    "[Clock].EndOfDay"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Graph, Models",
              "Caption": null,
              "Axis": [
                {
                  "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                  "Title": null,
                  "Position": 3,
                  "Inverted": false,
                  "CrossesAtZero": false,
                  "Minimum": null,
                  "Maximum": null,
                  "Interval": null
                },
                {
                  "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                  "Title": "NO3 (kg/ha)",
                  "Position": 0,
                  "Inverted": false,
                  "CrossesAtZero": false,
                  "Minimum": null,
                  "Maximum": null,
                  "Interval": null
                }
              ],
              "LegendPosition": 0,
              "LegendOrientation": 0,
              "AnnotationLocation": 0,
              "DisabledSeries": [],
              "LegendOutsideGraph": false,
              "Name": "NO3 amount",
              "Children": [
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -16736653,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 0,
                  "LineThickness": 0,
                  "TableName": "Report",
                  "XFieldName": "Date",
                  "YFieldName": "NO3",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": false,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "NO3",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Descriptors": null,
          "Name": "TileDrainage",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "## Depth to the impermeable layer\n\nWhen the vertical distance between the subsurface drains and the impermeable layer decreases, the drains become more effective. The reader is referred to the scientific/engineering literature on drainage to understand the details but in casual terms, when that distance is small the flow lines are compressed and the drains are more effective.\n\nTo create a tile drain, add a SwimSubsurfaceDrain to the Swim model under soil.\n\nThe simulation below shows a simulation with a drain configured with a depth to impermeable layer of 1000mm\n",
              "Name": "Memo",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Climate.Weather, Models",
              "ConstantsFile": null,
              "FileName": "..\\..\\Examples\\WeatherFiles\\lincoln.met",
              "ExcelWorkSheetName": "",
              "Name": "Weather",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2000-01-31T00:00:00",
              "Name": "Clock",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "Verbosity": 100,
              "Name": "summaryfile",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.MicroClimate, Models",
              "a_interception": 0.0,
              "b_interception": 0.0,
              "c_interception": 0.0,
              "d_interception": 0.0,
              "SoilHeatFluxFraction": 0.0,
              "MinimumHeightDiffForNewLayer": 0.0,
              "NightInterceptionFraction": 0.0,
              "ReferenceHeight": 2.0,
              "Name": "MicroClimate",
              "Children": [],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "paddock",
              "Children": [
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.Climate;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing Models.AgPasture;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] ISummary summary;\r\n        [Link] private Swim3 swim;\r\n        \n        public enum LowerBCTypeOptions {gradient,seepage,potential};\r\n\r\n        [Separator(\"Sets the lower boundary condition type (and value if set to 'potential' for SWIM3. The change is applied at the beginning of the first day of the simulation.\")]\n        [Description(\"What lower boundary condition is wanted?\")] \n        public LowerBCTypeOptions LowerBCType { get; set; }\n        \r\n        [Description(\"If 'potential', then what potential? Should be negative (mm) \")]\n        [Display(EnabledCallback = \"IsPotential\")] \n        public double LowerBCValue { get; set; }\n        \n        /// <summary></summary>\n        public bool IsPotential => LowerBCType == LowerBCTypeOptions.potential;\n        \r\n\r\n        public double SoilWaterStart  { get; set; }\r\n        public double SoilWaterEnd  { get; set; }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void DoDailyCalculations(object sender, EventArgs e)\r\n        {\r\n            if (clock.Today == clock.StartDate)\r\n            {\r\n                summary.WriteMessage(this, \"Script is setting lower boundary condition to \" + LowerBCType, MessageType.Diagnostic);\r\n                if (LowerBCType == LowerBCTypeOptions.gradient)\r\n                    swim.SetLowerBCForGradient(bbcGradient: 0.0);   // in cm/cm (ibbc=0) Note that this is the default setting\r\n                else if (LowerBCType == LowerBCTypeOptions.potential)\r\n                    swim.SetLowerBCForGivenPotential(bbcPotential: LowerBCValue /10.0 );    //  convert to cm (ibbc=1), DUL is -100 cm so values more positive will often result in inflow to the bottom of the soil profile. Input in mm so divide here.\r\n                else if (LowerBCType == LowerBCTypeOptions.seepage)\r\n                    swim.SetLowerBCForSeepage(bbcPotentialSeepage: 0.0);  // in cm (ibbc=3). This is for zero-tension lysimeters\n                else\n                \tthrow new Exception(\"Wrong lower boundary condition type\");\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "LowerBCType",
                      "Value": "gradient"
                    },
                    {
                      "Key": "LowerBCValue",
                      "Value": "-500"
                    }
                  ],
                  "Name": "SWIMSetLowerBC",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Newtonsoft.Json;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Xml.Serialization;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing Models.Interfaces;\r\n\r\n\r\n\r\n        \r\nnamespace Models\r\n{\r\n    [Serializable] \r\n    [System.Xml.Serialization.XmlInclude(typeof(Model))]\r\n    public class Script : Model\r\n    {\r\n        [Link] private ISummary summary;\r\n        [Link] private Irrigation Irrigation;\r\n        [Link] private Clock Clock;\r\n        [Link] private Soil Soil;\r\n        [Link(IsOptional = true)] private IPlant existingCrop;\r\n        private DateTime StartDate;\r\n        private DateTime EndDate;\r\n        private double TopDUL;\r\n        private double TopLL;\r\n        private int nLayers;\r\n        [Link]\r\n        private IPhysical soilPhysical;\r\n        [Link]\r\n        private ISoilWater waterBalance;\r\n        //Communication to other modules\r\n       \r\n        //User inputs from properties tab\r\n        [Description(\"Turn irrigation on?\")]\r\n        public bool allowIrrigation { get; set; }\r\n        [Description(\"Start of irrigation season (dd-MMM)\")]\r\n        public string seasonStart { get; set; }\r\n        [Description(\"End of irrigation season (dd-MMM)\")]\r\n        public string seasonEnd { get; set; }\r\n        [Description(\"Season allocation (mm)\")]\r\n        public double seasonsAllocation { get; set; }\r\n        [Description(\"Deficit to trigger irrigation (% PAWC)\")]\r\n        public double triggerDeficit { get; set; }\r\n        [Description(\"Deficit to stop irrigaton (% PAWC)\")]\r\n        public double targetDeficit { get; set; }\r\n        [Description(\"Minimum days for irrigation to return\")]\r\n        public double returndays { get; set; }\r\n        [Description(\"Maximum irrigation application (mm/day)\")]\r\n        public double maximumAmount { get; set; }\r\n        [Description(\"Depth to calculate PAWC (mm)\")]\r\n        public double depthPAWC { get; set; }\r\n\r\n        //Class members\r\n        [JsonIgnore] public double TopSWdeficit { get; set; }\r\n        [JsonIgnore] public double TopSWC { get; set; }\r\n        [JsonIgnore] public double DaysSinceIrrigation { get; set; }\r\n        [JsonIgnore] public double AmountToApply { get; set; }\r\n        [JsonIgnore] public double SeasonAppliedAmount { get; set; }\r\n        \r\n        private bool IrrigationIsAllowed { get; set; }\r\n        private bool SeasonIsOpen { get; set; }\r\n        private bool CropIsActive { get; set; }\r\n        private bool IrrigatorIsAvailable { get; set; }\r\n        private bool SoilIsDry { get; set; }\r\n\r\n    \r\n        //Calculate static soil variables\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {   \r\n            //Set the season dates\r\n            StartDate = DateTime.Parse(seasonStart + \"-\" + Clock.Today.Year.ToString());\r\n            EndDate = DateTime.Parse(seasonEnd + \"-\" + Clock.Today.Year.ToString());\r\n            \r\n            //Can we irrigate at all?\r\n            IrrigationIsAllowed = false; \r\n            if (allowIrrigation)\r\n                IrrigationIsAllowed = true; \r\n\r\n            //Calculate soil water variables\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            nLayers = soilPhysical.Thickness.Length;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopLL += soilPhysical.LL15mm[layer] * fracLayer;\r\n                TopDUL += soilPhysical.DULmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n        }\r\n             \r\n        //Determine daily requirement for irrigation\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnStartOfDay(object sender, EventArgs e)\r\n        {\r\n            //Can we irrigate today?          \r\n            SeasonIsOpen = isBetween(Clock.Today, StartDate, EndDate);\r\n            if (!SeasonIsOpen)\r\n                SeasonAppliedAmount = 0;\r\n\r\n            //Is there a crop in the ground that needs irrigation?\r\n            CropIsActive = false;\r\n            if ((existingCrop != null) && (existingCrop.IsAlive))\r\n                CropIsActive = true;\r\n            //if ((existingCrop.Phenology.Stage >= 3.0) && (existingCrop.Phenology.Stage < 6.0))\r\n          \r\n            //Is the irrigator available?\r\n            IrrigatorIsAvailable = false;\r\n            DaysSinceIrrigation += 1;\r\n            if (DaysSinceIrrigation >= returndays)\r\n                IrrigatorIsAvailable = true;\r\n          \r\n            //Is the soil dry enough to require irrigation?\r\n            SoilIsDry = false;\r\n            double depthFromSurface = 0.0;\r\n            double fracLayer = 0.0;\r\n            TopSWC = 0.0;\r\n            for (int layer = 0; layer < nLayers; layer++)\r\n            //for (int layer = 0; depthFromSurface < depthPAWC + soilPhysical.Thickness[layer]; layer++)\r\n            {\r\n                fracLayer = Math.Min(1.0, (depthPAWC - depthFromSurface) / soilPhysical.Thickness[layer]);\r\n                TopSWC += waterBalance.SWmm[layer] * fracLayer;\r\n                depthFromSurface += soilPhysical.Thickness[layer];\r\n                if (depthFromSurface >= depthPAWC)\r\n                    layer = nLayers;\r\n            }\r\n            \r\n            TopSWdeficit = TopSWC - TopDUL;\r\n            if (Math.Max(0.0, -TopSWdeficit) >= (TopDUL - TopLL) * (100 - triggerDeficit) / 100)\r\n                SoilIsDry = true;\r\n                \r\n            //Are all the conditions ratifying irrigation\r\n            if (IrrigationIsAllowed && SeasonIsOpen && CropIsActive && IrrigatorIsAvailable && SoilIsDry)\r\n            {\r\n                //Lets bloody well irrigate then!!!!\r\n                AmountToApply = TopDUL * targetDeficit / 100 - TopSWC;\r\n                AmountToApply = Math.Max(0.0, Math.Min(AmountToApply, seasonsAllocation - SeasonAppliedAmount));\r\n                AmountToApply = Math.Min(AmountToApply,maximumAmount);\r\n                Irrigation.Apply(AmountToApply);\r\n                DaysSinceIrrigation = 0;\r\n                SeasonAppliedAmount += AmountToApply;\r\n            }\r\n        }\r\n        \r\n        ///Checks whether theDate is between iniDate and endDate (non-year specific)\r\n        private bool isBetween(DateTime theDay, DateTime iniDate, DateTime endDate)\r\n        {\r\n            bool result = false;\r\n            if (iniDate.DayOfYear < endDate.DayOfYear)\r\n            {\r\n                // period is within one year, ex: summer in the northern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) && (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            else\r\n            {\r\n                // period goes over the end of the year, ex: summer in the southern hemisphere\r\n                if ((theDay.DayOfYear >= iniDate.DayOfYear) || (theDay.DayOfYear <= endDate.DayOfYear))\r\n                    result = true;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "allowIrrigation",
                      "Value": "True"
                    },
                    {
                      "Key": "seasonStart",
                      "Value": "1-sep"
                    },
                    {
                      "Key": "seasonEnd",
                      "Value": "30-mar"
                    },
                    {
                      "Key": "seasonsAllocation",
                      "Value": "10000"
                    },
                    {
                      "Key": "triggerDeficit",
                      "Value": "80"
                    },
                    {
                      "Key": "targetDeficit",
                      "Value": "100"
                    },
                    {
                      "Key": "returndays",
                      "Value": "3"
                    },
                    {
                      "Key": "maximumAmount",
                      "Value": "30"
                    },
                    {
                      "Key": "depthPAWC",
                      "Value": "300"
                    }
                  ],
                  "Name": "AutomaticIrrigation",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Operations, Models",
                  "Operation": [
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-01-10",
                      "Action": "[Irrigation].Apply(amount:100,duration:60);",
                      "Enabled": true
                    },
                    {
                      "$type": "Models.Operation, Models",
                      "Date": "2000-01-15",
                      "Action": "[Irrigation].Apply(amount:100,duration:60);",
                      "Enabled": true
                    }
                  ],
                  "Name": "AddIrrigation",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "grass",
                  "InitialResidueType": "grass",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 17.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 1232,
                  "ASCOrder": null,
                  "ASCSubOrder": null,
                  "SoilType": "Loam",
                  "LocalName": "Horotiu",
                  "Site": "Ruakura, south of Railway Ln",
                  "NearestTown": "Hamilton",
                  "Region": "Waikato",
                  "State": null,
                  "Country": "New Zealand",
                  "NaturalVegetation": "long term grass",
                  "ApsoilNumber": "1320",
                  "Latitude": -37.779,
                  "Longitude": 175.304,
                  "LocationAccuracy": "+/-50 m",
                  "YearOfSampling": "1984",
                  "DataSource": "The database of New Zealand soils was compiled by AgResearch (www.agresearch.co.nz) and based on soil properties gathered, mainly from publications, in the course of conducting several simulation-based research projects but particularly from the Pastoral 21 Environment program which was funded by the New Zealand Ministry for Business, Innovation and Employment,  Dairy NZ, Fonterra and Meat & Wool NZ.",
                  "Comments": "Gravel soil. The bulk density of this APSoil reflects weight of fine-earth fraction per volume of bulk soil. Use with gravimetric water contents measured on the fine-earth fraction. Gravel assumed to not hold water as reflected in low SAT, DUL, LL15, LL and AD. The data is a combination of published or supplied measurements, pedotransfer functions, and expert opinion. See Cichota et al. (2013; Soil Research 51: 92-111, http://dx.doi.org/10.1071/SR12338) for a description of the pedotransfer functions. The soil carbon and fresh organic matter settings have been set as those broadly appropriate for permanent productive pastoral systems, see Cichota el al. (2012; Soil Research 50: 694-707, http://dx.doi.org/10.1071/SR12208). Users should take care to adapt these to local conditions before using the data in simulations. FOM values estimated to be 900 kg/ha of FOM in top 600mm of soil and another 100 kg/ha below.",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "ParticleSizeClay": [
                        18.44,
                        18.44,
                        18.44,
                        18.44,
                        18.44,
                        18.44,
                        18.44,
                        18.44
                      ],
                      "ParticleSizeSand": [
                        53.54,
                        53.54,
                        53.54,
                        53.54,
                        53.54,
                        53.54,
                        53.54,
                        53.54
                      ],
                      "ParticleSizeSilt": [
                        28.02,
                        28.02,
                        28.02,
                        28.02,
                        28.02,
                        28.02,
                        28.02,
                        28.02
                      ],
                      "Rocks": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "Texture": null,
                      "BD": [
                        0.82,
                        0.82,
                        0.82,
                        0.82,
                        0.82,
                        0.82,
                        0.82,
                        0.82
                      ],
                      "AirDry": [
                        0.091,
                        0.091,
                        0.091,
                        0.091,
                        0.091,
                        0.091,
                        0.091,
                        0.091
                      ],
                      "LL15": [
                        0.276,
                        0.276,
                        0.276,
                        0.276,
                        0.276,
                        0.276,
                        0.276,
                        0.276
                      ],
                      "DUL": [
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414
                      ],
                      "SAT": [
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45,
                        0.45
                      ],
                      "KS": [
                        100.0,
                        50.0,
                        25.0,
                        3.0,
                        3.0,
                        3.0,
                        3.0,
                        3.0
                      ],
                      "BDMetadata": [
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility",
                        "Field measured and checked for sensibility"
                      ],
                      "AirDryMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "LL15Metadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "DULMetadata": [
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured",
                        "Laboratory measured"
                      ],
                      "SATMetadata": [
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD",
                        "Calculated from measured, estimated or calculated BD"
                      ],
                      "KSMetadata": null,
                      "RocksMetadata": null,
                      "TextureMetadata": null,
                      "ParticleSizeSandMetadata": null,
                      "ParticleSizeSiltMetadata": null,
                      "ParticleSizeClayMetadata": null,
                      "Name": "Physical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "Carbon": [
                        8.2,
                        5.5,
                        3.3,
                        1.7,
                        1.7,
                        1.2,
                        0.7,
                        0.1
                      ],
                      "SoilCNRatio": [
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649,
                        10.649
                      ],
                      "FBiom": [
                        0.08,
                        0.072,
                        0.026,
                        0.008,
                        0.008,
                        0.008,
                        0.008,
                        0.008
                      ],
                      "FInert": [
                        0.597,
                        0.642,
                        0.777,
                        0.896,
                        0.957,
                        0.975,
                        0.992,
                        0.986
                      ],
                      "FOM": [
                        26.67651879646381,
                        21.4084077983616,
                        16.180126544455657,
                        10.011993583030847,
                        6.711239999485762,
                        4.49867870541152,
                        3.0155545169109996,
                        1.4974800558798063
                      ],
                      "CarbonMetadata": null,
                      "FOMMetadata": null,
                      "Name": "Organic",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3N": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "NH4N": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "CL": [
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0
                      ],
                      "EC": null,
                      "ESP": null,
                      "LabileP": null,
                      "UnavailableP": null,
                      "ECMetadata": null,
                      "CLMetadata": null,
                      "ESPMetadata": null,
                      "PHMetadata": [
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge",
                        "Estimated based on local knowledge"
                      ],
                      "Name": "Chemical",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Thickness": [
                        60.0,
                        110.0,
                        140.0,
                        240.0,
                        200.0,
                        200.0,
                        200.0,
                        350.0
                      ],
                      "NO3": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "NH4": [
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0,
                        0.0
                      ],
                      "LabileP": null,
                      "UnavailableP": null,
                      "SW": [
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414,
                        0.414
                      ],
                      "OC": null,
                      "EC": null,
                      "CL": [
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5,
                        6.5
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "Initial values",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Swim3, Models",
                      "PrecipitationInterception": 0.0,
                      "ersoil": 1E-06,
                      "ernode": 1E-06,
                      "slcerr": 1E-06,
                      "theta": null,
                      "psi": null,
                      "Salb": 0.13,
                      "CN2Bare": 0.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "KDul": 1.0,
                      "PSIDul": -100.0,
                      "VC": true,
                      "DTMin": 0.0,
                      "DTMax": 1440.0,
                      "MaxWaterIncrement": 10.0,
                      "SpaceWeightingFactor": 0.0,
                      "SoluteSpaceWeightingFactor": 1.0,
                      "Dis": 0.0,
                      "Disp": 1.0,
                      "A": 2.0,
                      "DTHC": 0.1,
                      "DTHP": 2.0,
                      "Diagnostics": false,
                      "WaterTable": 0.0,
                      "Name": "Swim",
                      "Children": [
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Urea",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 5.0,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            5.0,
                            5.0,
                            5.0,
                            5.0,
                            5.0,
                            5.0,
                            5.0,
                            5.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "NO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "Cl",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            16.98,
                            24.53,
                            29.28,
                            51.55,
                            37.33,
                            56.51,
                            34.12,
                            14.52
                          ],
                          "FIP": [
                            0.71,
                            0.62,
                            0.58,
                            0.43,
                            0.51,
                            0.4,
                            0.48,
                            0.47
                          ],
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "LabileP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSoluteParameters, Models",
                          "WaterTableConcentration": 0.0,
                          "D0": 0.05,
                          "Depth": [
                            "0-6",
                            "6-17",
                            "17-31",
                            "31-55",
                            "55-75",
                            "75-95",
                            "95-115",
                            "115-150"
                          ],
                          "Thickness": [
                            60.0,
                            110.0,
                            140.0,
                            240.0,
                            200.0,
                            200.0,
                            200.0,
                            350.0
                          ],
                          "Exco": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "FIP": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "Name": "UnavailableP",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SwimSubsurfaceDrain, Models",
                          "DrainDepth": 500.0,
                          "DrainSpacing": 5000.0,
                          "DrainRadius": 150.0,
                          "Klat": 1000.0,
                          "ImpermDepth": 1000.0,
                          "Name": "SwimSubsurfaceDrain",
                          "Children": [],
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Solute, Models",
                      "Name": "Cl",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.LayerStructure, Models",
                      "Depth": [
                        "0-1",
                        "1-3",
                        "3-6",
                        "6-10",
                        "10-15",
                        "15-20",
                        "20-25",
                        "25-30",
                        "30-40",
                        "40-50",
                        "50-55",
                        "55-60",
                        "60-65",
                        "65-70"
                      ],
                      "Thickness": [
                        10.0,
                        20.0,
                        30.0,
                        40.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0,
                        100.0,
                        100.0,
                        50.0,
                        50.0,
                        50.0,
                        50.0
                      ],
                      "Name": "LayerStructure",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilTemp.SoilTemperature, Models",
                      "Name": "SoilTemperature",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Irrigation, Models",
                  "Name": "Irrigation",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "ResourceName": "Fertiliser",
                  "Name": "Fertiliser",
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today as Date",
                    "sum([Soil].Nutrient.TotalN) as TotalN",
                    "[Soil].Swim.SubsurfaceDrain as SubsurfaceDrain",
                    "[Soil].Swim.Drainage as Drainage",
                    "sum([Soil].Swim.SWmm) as WaterStorage",
                    "[Soil].Swim.WaterTable as WaterTableDepth",
                    "[Soil].Swim.psi as Psi",
                    "[Irrigation].IrrigationApplied as Irrigation",
                    "[NO3].kgha"
                  ],
                  "EventNames": [
                    "[Clock].EndOfDay"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowInDocs": true,
              "GraphsPerPage": 6,
              "Name": "Plots",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": "Drainage",
                      "Position": 2,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Drainage",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 2,
                      "ColourArgb": 0,
                      "FactorToVaryColours": "SimulationName",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "Drainage",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Drainage",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": "Drainage",
                      "Position": 2,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "CumulativeDrainage",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 2,
                      "ColourArgb": 0,
                      "FactorToVaryColours": "SimulationName",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "Drainage",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": true,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Drainage",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "TileDrainage",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -2793984,
                      "FactorToVaryColours": "SimulationName",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "SubsurfaceDrain",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Subsurface",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "TileDrainageCumulative",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -2793984,
                      "FactorToVaryColours": "DepthToImperm",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "SubsurfaceDrain",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": true,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Subsurface",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 3,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": null,
                      "Position": 0,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    },
                    {
                      "$type": "APSIM.Shared.Graphing.Axis, APSIM.Shared",
                      "Title": "Irrigation.IrrigationApplied",
                      "Position": 2,
                      "Inverted": false,
                      "CrossesAtZero": false,
                      "Minimum": null,
                      "Maximum": null,
                      "Interval": null
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "AnnotationLocation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Psi",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 0,
                      "XAxis": 3,
                      "YAxis": 2,
                      "ColourArgb": -990142,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "Irrigation",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Irrigation",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -990142,
                      "FactorToVaryColours": "SimulationName",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Report",
                      "XFieldName": "Date",
                      "YFieldName": "Psi(10)",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Psi10",
                      "Children": [],
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "Enabled": true,
      "ReadOnly": false
    }
  ],
  "Enabled": true,
  "ReadOnly": false
}